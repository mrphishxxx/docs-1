<!DOCTYPE html><html lang="en"><head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Configuring HipChat
        | X-Pack for the Elastic Stack
      | Elastic
    </title><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="X-Pack for the Elastic Stack" /><link rel="up" href="administering-watcher.html" title="Administering Watcher" /><link rel="prev" href="configuring-email.html" title="Configuring Email" /><link rel="next" href="configuring-slack.html" title="Configuring Slack" /><meta name="DC.type" content="Docs/XPack/Reference" /><meta http-equiv="content-type" content="text/html; charset=utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png?change=123"><link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png?change=123"><link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png?change=123"><link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png?change=123"><link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png?change=123"><link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png?change=123"><link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png?change=123"><link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png?change=123"><link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png?change=123"><link rel="icon" type="image/png" sizes="192x192" href="/android-icon-192x192.png?change=123"><link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png?change=123"><link rel="icon" type="image/png" sizes="96x96" href="/favicon-96x96.png?change=123"><link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png?change=123"><link rel="manifest" href="/manifest.json"><meta name="msapplication-TileColor" content="#ffffff"><meta name="msapplication-TileImage" content="/ms-icon-144x144.png"><meta name="theme-color" content="#ffffff"><link rel="schema.DC" href="http://purl.org/dc/elements/1.1/"><link rel="schema.DCTERMS" href="http://purl.org/dc/terms/"><meta name="description" content=""/><meta property="og:image" content="/static/img/cluster-small.png"/><link rel="shortcut icon" href="favicon.ico" type="image/x-icon"><link rel="icon" href="favicon.ico?change=123" type="image/x-icon"><link rel="apple-touch-icon-precomposed" sizes="64x64" href="favicon_64x64_16bit.png"><link rel="apple-touch-icon-precomposed" sizes="32x32" href="favicon_32x32.png"><link rel="apple-touch-icon-precomposed" sizes="16x16" href="favicon_16x16.png"><link href="/static/css/main.css" rel="stylesheet"> <!--[if lt IE 9]><script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script><script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script><![endif]--><link type="text/css" rel="stylesheet" href="/static/css/prettify.css"/><link type="text/css" rel="stylesheet" href="/static/css/guide.css"/><script type="text/javascript" src="/static/js/prettify.js"></script>
<link rel="stylesheet" type="text/css" href="styles.css" />

</head><body><script>dataLayer = [];</script><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-58RLH5" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
			new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
			j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
			'//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
	})(window,document,'script','dataLayer','GTM-58RLH5');</script><header class="header-wrapper"><div class="navigation-wrapper"><div class="container"><nav class="navbar"><div class="navbar-mobile-header navbar-header mr-20 mr-xs-0"><div class="row hidden-sm hidden-md hidden-lg"><div class="col-xs-5 hidden-sm hidden-md hidden-lg"><div class="navbar-mobile-header-icon navbar-mobile-header-icon-out"><span></span><span></span><span></span></div> <a href="/learn" class="nav-title hidden-sm hidden-md hidden-lg m-l-10">Learn</a></div><div class="col-xs-2 text-center"><div class="navbar-brand" id="elastic"><h1> <a class="logo-m hidden-sm hidden-md hidden-lg" href="/"><img src="/assets/blt65c71c1236219a27/elastic-logo-mobile.svg" alt="elastic-logo-mobile"></a></h1></div></div><div class="col-xs-5 hidden-sm hidden-md hidden-lg text-right"><ul class="menu-m hidden-sm hidden-md hidden-lg"><li class=""><a class="icon-contact" href="/contact"></a></li><li id="searchbar"><a class="button icon" href="#"></a></li><li class="lang global-language"><a href="#">EN</a><ul class="language-list"><li><a href="/">English</a></li><li><a href="/fr/">français</a></li><li><a href="/de/">Deutsche</a></li><li><a href="/jp/">日本語</a></li><li><a href="/kr/">한국어</a></li></ul></li></ul></div></div><div class="navbar-brand hidden-xs" id="elastic"><h1> <a class="hidden-xs" id="elastic-logo" href="/"><img src="/assets/blt49aa5273c3bf983b/elastic-logo.svg" alt="elastic-logo"></a></h1></div></div><div class="collapse navbar-collapse mobile-inner-nav"><nav class="nav navbar-nav primary-nav-hover" id="nav"><ul><li> <a id="nav_products" class="  nav-item" href="/products">Products</a><div class="text-center quaternary-nav hidden-xs hover-nav"><div class="container"><div class="p-t-b-5"><ul class="list-inline nav-group"><li> <a href="/products/elasticsearch">Elasticsearch</a></li><li> <a href="/cloud">Elasticsearch as a Service</a></li><li> <a href="/products/logstash">Logstash</a></li><li> <a href="/products/kibana">Kibana</a></li><li> <a href="/products/beats">Beats</a></li><li> <a href="/products/watcher">Watcher</a></li><li> <a href="/products/shield">Shield</a></li><li> <a href="/products/marvel">Marvel</a></li><li> <a href="/products/graph">Graph</a></li><li> <a href="/products/reporting">Reporting</a></li><li> <a href="/products/hadoop">Hadoop</a></li></ul></div></div></div><ul class="hidden-sm hidden-md hidden-lg sub-navigation"><li><a id="nav_elasticsearch" href="/products/elasticsearch">Elasticsearch</a></li><li><a id="nav_elasticsearch as a service" href="/cloud">Elasticsearch as a Service</a></li><li><a id="nav_logstash" href="/products/logstash">Logstash</a></li><li><a id="nav_kibana" href="/products/kibana">Kibana</a></li><li><a id="nav_beats" href="/products/beats">Beats</a></li><li><a id="nav_watcher" href="/products/watcher">Watcher</a></li><li><a id="nav_shield" href="/products/shield">Shield</a></li><li><a id="nav_marvel" href="/products/marvel">Marvel</a></li><li><a id="nav_graph" href="/products/graph">Graph</a></li><li><a id="nav_reporting" href="/products/reporting">Reporting</a></li><li><a id="nav_hadoop" href="/products/hadoop">Hadoop</a></li></ul></li><li> <a id="nav_cloud" class="  nav-item" href="/cloud">Cloud</a><div class="text-center quaternary-nav hidden-xs hover-nav"><div class="container"><div class="p-t-b-5"><ul class="list-inline nav-group"><li> <a href="/cloud/subscriptions">Subscriptions</a></li><li> <a href="/cloud/pricing">Pricing</a></li><li> <a href="/cloud/support">Support</a></li></ul></div></div></div><ul class="hidden-sm hidden-md hidden-lg sub-navigation"><li><a id="nav_subscriptions" href="/cloud/subscriptions">Subscriptions</a></li><li><a id="nav_pricing" href="/cloud/pricing">Pricing</a></li><li><a id="nav_support" href="/cloud/support">Support</a></li></ul></li><li> <a id="nav_services" class="  nav-item" href="/services">Services</a></li><li> <a id="nav_customers" class="  nav-item" href="/use-cases">Customers</a></li><li> <a id="nav_learn" class="active nav-item" href="/learn">Learn</a><div class="text-center quaternary-nav hidden-xs hover-nav"><div class="container"><div class="p-t-b-5"><ul class="list-inline nav-group"><li> <a href="/community">Community</a></li><li> <a href="/guide">Docs</a></li><li> <a href="/blog">Blog</a></li><li> <a href="/videos">Videos</a></li><li> <a href="https://discuss.elastic.co/">Forums</a></li><li> <a href="/elasticon">Elastic{ON}</a></li></ul></div></div></div><ul class="hidden-sm hidden-md hidden-lg sub-navigation"><li><a id="nav_community" href="/community">Community</a></li><li><a id="nav_docs" href="/guide">Docs</a></li><li><a id="nav_blog" href="/blog">Blog</a></li><li><a id="nav_videos" href="/videos">Videos</a></li><li><a id="nav_forums" href="https://discuss.elastic.co/">Forums</a></li><li><a id="nav_elastic{on}" href="/elasticon">Elastic{ON}</a></li></ul></li></ul></nav><nav class="nav navbar-nav navbar-right hidden-xs"><ul><li class="hidden-xs hidden-sm"><a href="/downloads">Downloads</a></li><li class="hidden-xs hidden-md hidden-lg"><a class="icon-download" href="/downloads"></a></li><li class="hidden-xs hidden-sm"><a class="btn btn-primary btn-contact" href="/contact">Contact</a></li><li class="hidden-xs hidden-md hidden-lg"><a class="icon-contact" href="/contact"></a></li><li class="hidden-xs" id="searchbar"><a class="button icon" href="#"></a></li><li class="hidden-xs lang global-language"><a href="#">EN</a><ul class="language-list"><li><a class="" href="/">English</a></li><li><a class="" href="/fr/">français</a></li><li><a class="" href="/de/">Deutsche</a></li><li><a class="" href="/jp/">日本語</a></li><li><a class="" href="/kr/">한국어</a></li></ul></li></ul></nav></div></nav></div></div><div class="header-search-wrapper open-search"><div class="container"><div class="big-search"><i class="big-search-icon"></i><form id="searchfrm" name="searchForm" autocomplete="on" action="/search" method="get"><ul class="tags-wrapper"><li class="search-field"><input type="text" name="q" id="autocomplete" class="form-control global-input" autocomplete="off"></li></ul></form><a class="header-search-cancel" href="#"></a></div><div class="nav-auto-complete"></div></div></div><script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script><script>
$(window).load(function () {
  $(".navbar-mobile-header-icon").click(function(index){
    $('.navigation-wrapper').toggleClass('menu-overlay');
    $(this).toggleClass("navbar-mobile-header-icon-click navbar-mobile-header-icon-out");
    $(".mobile-inner-nav").slideToggle(500);
    $('.mobile-inner-nav .sub-navigation').css('display','none');
    $(".mobile-inner-nav a").each(function( index ) {
      $(this).css({'animation-delay': (index/25)+'s'});
    });
  });

  if($(window).width() < 769){
    $(".nav-item").click(function(e){
      e.preventDefault();
      var parent = $(this).parent();
      $('.sub-navigation',parent).slideToggle(250);
    })
  }
});
</script></header><style> 
    
      .m-shortcuts li a.m-search {
        background: url("/assets/blt78ef101d1c58b693/m-search-icon.png") no-repeat scroll center center rgba(0, 0, 0, 0);
        background-size: contain;}
    
      .m-shortcuts li a.m-docs {
        background: url("/assets/blt8c2d02cd42735ac3/m-guide-icon.png") no-repeat scroll center center rgba(0, 0, 0, 0);
        background-size: contain;}
    
      .m-shortcuts li a.m-contact {
        background: url("/assets/blte4c9f7f37cf09587/m-contact-icon.png") no-repeat scroll center center rgba(0, 0, 0, 0);
        background-size: contain;}
      
</style><script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script><script type="text/javascript" src="/static/js/nav-v5.js"></script><script type="text/javascript">
  $(document).ready( function(){
    $('.navbar-toggle').on('click', function(){
      $('.mobile-navigation, .menu-open').hide();
      $('.navigation-wrapper').addClass('mobile-navigation');
      $('.navbar').addClass('menu-open');
      $('.menu-close').show();
    });
    $('.menu-close').on('click', function(){
      $('.navigation-wrapper').removeClass('mobile-navigation');
      $('.navbar').removeClass('menu-open');
      $('.menu-close').hide();
      console.log("close");
    });

    // $(".mobile-inner-header-icon").click(function(){
    //   $(this).toggleClass("mobile-inner-header-icon-click mobile-inner-header-icon-out");
    //   $(".mobile-inner-nav").slideToggle(250);
    //   $(".navigation-wrapper").toggleClass('mobile-menu');
    //   if ($('.mobile-inner-header-icon-click').is(":visible")) {
    //     $('.menu-m').css({'display':"none"});
    //   }else{
    //     $('.menu-m').css({'display':"table-cell"});
    //   }
    // });
    // $(".mobile-inner-nav a").each(function( index ) {
    //   $( this ).css({'animation-delay': (index/10)+'s'});
    //   // $(".navigation-wrapper").removeClass('mobile-menu');
    // });
  });
</script><div class="tertiary-nav"><div class="container"><div class="p-t-b-13 bdr-btm-e7e7e7 clearfix"><div class="breadcrum-wrapper pull-left text-left"> <a href="/learn">Learn</a> <span>Docs</span></div></div></div></div><div class="nav-mobile-dropdown hidden-sm hidden-md hidden-lg clearfix"><div class="container"><div class="breadcrum-wrapper pull-left text-left"> <a class="dropdown-btn" href="javascript:void(0)">Docs</a></div></div></div><div class="main-container"><section id="content"><div class="content-wrapper">
            <div id="pageheader">
    <div class="container">
        <header>
            <h1><a href="/learn" title="Learn">Learn</a> |</h1>
            <h2><a href="/guide" title="Docs">Docs</a></h2>
        </header>
    </div>
</div>
<section id="guide">

            <!-- start body -->
<div class="page_header"><b>PLEASE NOTE:</b> These docs are for a pre-GA version of X-Pack, 5.0.0-alpha3.</div><div class="breadcrumbs"><span class="breadcrumb-link"><a href="index.html">X-Pack for the Elastic Stack</a></span> » <span class="breadcrumb-link"><a href="xpack-alerting.html">Watcher - Alerting &amp; Notification </a></span> » <span class="breadcrumb-link"><a href="administering-watcher.html">Administering Watcher</a></span> » <span class="breadcrumb-node">Configuring HipChat</span></div><div class="navheader"><span class="prev"><a href="configuring-email.html">
              « 
              Configuring Email</a>
           
        </span><span class="next">
           
          <a href="configuring-slack.html">Configuring Slack
               »
            </a></span></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="configuring-hipchat"></a>Configuring HipChat</h2></div></div></div><p>You can configure Watcher to use the HipChat APIs to send messages to HipChat
rooms and users. Both <a class="ulink" href="https://www.hipchat.com/docs/api" target="_top">v1</a> and
<a class="ulink" href="https://www.hipchat.com/docs/apiv2" target="_top">v2</a> HipChat APIs are supported.</p><h4><a id="hipchat-account"></a>HipChat Accounts</h4><p>You configure the accounts Watcher can use to communicate with HipChat in your
<code class="literal">elasticsearch.yml</code> configuration file. Each account configuration has a unique
name and specifies a HipChat API profile and the authentication information needed
to access the APIs. You can also specify message defaults, such the default message
text and color.</p><p>Watcher provides three HipChat API profiles:</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<a class="link" href="configuring-hipchat.html#hipchat-api-integration" title="The HipChat Integration Profile">integration</a>
</span></dt><dd>
Sends messages to a specific room using HipChat’s v2 API <a class="ulink" href="https://www.hipchat.com/docs/apiv2/method/send_room_notification" target="_top">Send room notification</a>.
</dd><dt><span class="term">
<a class="link" href="configuring-hipchat.html#hipchat-api-user" title="The HipChat User Profile">user</a>
</span></dt><dd>
Sends messages as a particular user through the HipChat v2 API. Enables you to
send messages to arbitrary rooms or users.
</dd><dt><span class="term">
<a class="link" href="configuring-hipchat.html#hipchat-api-v1" title="The HipChat v1 Profile">v1</a>
</span></dt><dd>
Sends messages to rooms using HipChat’s v1 API
<a class="ulink" href="https://www.hipchat.com/docs/api/method/rooms/message" target="_top">rooms/message</a>.
</dd></dl></div><div class="note admon"><div class="icon"><img alt="Note" src="images/icons/note.png" /></div><div class="admon_content"><p>The <code class="literal">v1</code> profile is provided because it is simple to set up and this API
      is familiar to many users. That said, HipChat has deprecated the v1 API
      and is encouraging users to migrate to v2. Both the <code class="literal">integration</code> and
      <code class="literal">user</code> profiles are based on the HipChat v2 API.</p></div></div><p>If you configure multiple HipChat accounts, you either need to set a default
HipChat account or specify which account the notification should be sent with
in the <a class="link" href="actions.html#actions-hipchat" title="HipChat Action">hipchat</a> action. You set <code class="literal">default_account</code> in
<code class="literal">xpack.notification.hipchat.service</code> to specify a default account.</p><p>HipChat accounts are configured under the <code class="literal">xpack.notification.hipchat.service</code>
namespace in <code class="literal">elasticsearch.yml</code>. For example:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-yaml">xpack.notification.hipchat.service:
  default_account: hipchat-account1
  account:
    hipchat-account1: <a id="CO41-1"></a><span><img src="images/icons/callouts/1.png" alt="" /></span>
      profile: v1
      auth_token: 3eLB803Nyp7UBmegJwP1rMdUmzk5HqnzJCgflrhv
      message_defaults:
        color: purple
        format: text
    hipchat-account2:
      profile: integration
      auth_token: 3eLB803Nyp7UBmegJwP1rMdUmzk5HqnzJCgflrhv
      room: mission-control
      message_defaults:
        color: gray
        format: text</pre></div><div class="calloutlist"><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left"><p><a href="#CO41-1"><span><img src="images/icons/callouts/1.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
The account name
</p></td></tr></table></div><h5><a id="hipchat-api-integration"></a>The HipChat Integration Profile</h5><p>You can use the <code class="literal">integration</code> profile to send messages to specific rooms. When
you set an account’s profile to <code class="literal">integration</code>, the messages are sent through
HipChat’s v2 <a class="ulink" href="https://www.hipchat.com/docs/apiv2/method/send_room_notification" target="_top">Send room notification</a> API.</p><p>When you use the <code class="literal">integration</code> profile, you need to configure a separate HipChat
account for each room you want to send messages—the account configuration
contains a room-specific authentication token. Alternatively, you can use the
<a class="link" href="configuring-hipchat.html#hipchat-api-user" title="The HipChat User Profile"><code class="literal">user</code></a> or <a class="link" href="configuring-hipchat.html#hipchat-api-v1" title="The HipChat v1 Profile"><code class="literal">v1</code></a> profile to send messages
to multiple rooms.</p><div class="note admon"><div class="icon"><img alt="Note" src="images/icons/note.png" /></div><div class="admon_content"><p>The <code class="literal">integration</code> profile only supports sending messages to rooms, it does
      not support sending private messages. use the <a class="link" href="configuring-hipchat.html#hipchat-api-user" title="The HipChat User Profile"><code class="literal">user</code></a>
      profile to notify a particular HipChat user.</p></div></div><p>Before you can configure an <code class="literal">integration</code> account you need to generate a
room-specific authentication token through the HipChat admin console:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
Log in to <a class="ulink" href="http://hipchat.com" target="_top">hipchat.com</a> or your HipChat server as a group
  administrator.
</li><li class="listitem">
Go to <span class="strong"><strong>Group admin &gt; Rooms</strong></span>.
</li><li class="listitem">
Click the name of the room you want to send messages to.
</li><li class="listitem">
Click the <span class="strong"><strong>Tokens</strong></span> link.
</li><li class="listitem"><p class="simpara">
Enter a name for the token in the <span class="strong"><strong>Label</strong></span> field.
</p><div class="informalfigure"><div class="mediaobject"><img src="images/watcher/hipchat-generate-room-token.jpg" alt="hipchat-generate-room-token.jpg" /></div></div></li><li class="listitem">
Select the <span class="strong"><strong>Send Notification</strong></span> scope.
</li><li class="listitem">
Click <span class="strong"><strong>Create</strong></span>.
</li><li class="listitem"><p class="simpara">
Copy the generated token so you can paste it into your HipChat account
  configuration in <code class="literal">elasticsearch.yml</code>.
</p><div class="informalfigure"><div class="mediaobject"><img src="images/watcher/hipchat-copy-room-token.jpg" alt="hipchat-copy-room-token.jpg" /></div></div></li></ol></div><p>To configure a HipChat account that uses the <code class="literal">integration</code> profile, you must:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
Set the <code class="literal">type</code> to <code class="literal">integration</code>.
</li><li class="listitem">
Set <code class="literal">room</code> to the name of the room you want to send messages to.
</li><li class="listitem">
Set <code class="literal">auth_token</code> to the room-specific authentication token.
</li></ol></div><p>For example, the following snippet configures an account called
<code class="literal">notify-monitoring</code> that sends messages to the <code class="literal">monitoring</code> room:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-yaml">xpack.notification.hipchat.service:
  account:
    notify-monitoring:
      profile: integration
      auth_token: 3eLB803Nyp7UBmegJwP1rMdUmzk5HqnzJCgflrhv
      room: monitoring</pre></div><p>You can also specify defaults for the notification messages. For the complete
list of attributes, see <a class="link" href="notification-settings.html#hipchat-account-attributes">HipChat Account Attributes</a>.</p><h5><a id="hipchat-api-user"></a>The HipChat User Profile</h5><p>You can use the <code class="literal">user</code> profile to send messages to rooms as well as individual
HipChat users. When you set an account’s profile to <code class="literal">user</code>, Watcher sends
messages as a particular user through the HipChat v2 API.</p><p>Before you can configure a <code class="literal">user</code> account, you need to:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
Add a HipChat user for Watcher. When setting the user name, keep in mind that
  the messages are sent on behalf of this user.
</li><li class="listitem"><p class="simpara">
Create an API token for the Watcher user:
</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem">
Log in to HipChat as the Watcher user.
</li><li class="listitem">
Go to <code class="literal">https://&lt;hipchat-server&gt;/account/api</code>. For example,
   <code class="literal">https://www.hipchat.com/account/api</code>.
</li><li class="listitem">
Confirm the user password.
</li><li class="listitem"><p class="simpara">
Enter a name for the token in the <span class="strong"><strong>Label</strong></span> field.
</p><div class="informalfigure"><div class="mediaobject"><img src="images/watcher/hipchat-generate-user-token.jpg" alt="hipchat-generate-user-token.jpg" /></div></div></li></ol></div></li><li class="listitem">
Select the <span class="strong"><strong>Send Notification</strong></span> and <span class="strong"><strong>Send Message</strong></span> scopes.
</li><li class="listitem">
Click <span class="strong"><strong>Create</strong></span>.
</li><li class="listitem"><p class="simpara">
Copy the generated token so you can paste it into your HipChat account
  configuration in <code class="literal">elasticsearch.yml</code>.
</p><div class="informalfigure"><div class="mediaobject"><img src="images/watcher/hipchat-copy-room-token.jpg" alt="hipchat-copy-room-token.jpg" /></div></div></li></ol></div><p>To configure a HipChat account that uses the <code class="literal">user</code> profile, you must:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
Set the <code class="literal">type</code> to <code class="literal">user</code>.
</li><li class="listitem">
Set <code class="literal">user</code> to the email address associated with the Watcher user.
</li><li class="listitem">
Set <code class="literal">auth_token</code> to the Watcher user’s authentication token.
</li></ol></div><p>For example, the following snippet configures an account called
<code class="literal">notify-monitoring</code> that sends messages to the <code class="literal">monitoring</code> room:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-yaml">xpack.notification.hipchat.service:
  account:
    notify-monitoring:
      profile: user
      user: watcher-user@example.com
      auth_token: 3eLB803Nyp7UBmegJwP1rMdUmzk5HqnzJCgflrhv</pre></div><p>You can also specify defaults for the notification messages. For the complete
list of attributes, see <a class="link" href="notification-settings.html#hipchat-account-attributes">HipChat Account Attributes</a>.</p><h5><a id="hipchat-api-v1"></a>The HipChat v1 Profile</h5><p>You can use the <code class="literal">v1</code> profile to send messages to particular rooms. When you set
an account’s profile to <code class="literal">v1</code>, messages are sent through HipChat’s v1
<a class="ulink" href="https://www.hipchat.com/docs/api/method/rooms/message" target="_top">rooms/message</a> API.</p><div class="warning admon"><div class="icon"><img alt="Warning" src="images/icons/warning.png" /></div><div class="admon_content"><p>The <code class="literal">v1</code> profile uses a deprecated API that is expected to be removed
          by HipChat in the future.</p></div></div><p>The <code class="literal">v1</code> profile only supports sending messages to rooms, it does not support
sending private messages. Use the <a class="link" href="configuring-hipchat.html#hipchat-api-user" title="The HipChat User Profile"><code class="literal">user</code></a> profile to send
private messages to HipChat users.</p><p>Before you can configure a <code class="literal">v1</code> account, you need to generate a <code class="literal">v1</code> API token:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
Log in to your HipChat server as a group admin.
</li><li class="listitem">
Go to <code class="literal">https://&lt;hipchat-server&gt;/admin/api</code>. For example,
  <code class="literal">https://hipchat.com/admin/api</code>.
</li><li class="listitem">
Confirm your admin password.
</li><li class="listitem"><p class="simpara">
Select the <span class="strong"><strong>Notification</strong></span> type.
</p><div class="informalfigure"><div class="mediaobject"><img src="images/watcher/hipchat-generate-v1-token.jpg" alt="hipchat-generate-v1-token.jpg" /></div></div></li><li class="listitem">
Enter a name for the token in the <span class="strong"><strong>Label</strong></span> field.
</li><li class="listitem">
Click <span class="strong"><strong>Create</strong></span>.
</li><li class="listitem"><p class="simpara">
Copy the generated token so you can paste it into your HipChat account
  configuration in <code class="literal">elasticsearch.yml</code>.
</p><div class="informalfigure"><div class="mediaobject"><img src="images/watcher/hipchat-copy-v1-token.jpg" alt="hipchat-copy-v1-token.jpg" /></div></div></li></ol></div><p>To configure a HipChat account that uses the <code class="literal">v1</code> profile:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
Set the <code class="literal">type</code> to <code class="literal">v1</code>.
</li><li class="listitem">
Set <code class="literal">auth_token</code> to the v1 authentication token you generated.
</li></ol></div><p>For example, the following snippet configures an account called
<code class="literal">notify-monitoring</code>:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-yaml">xpack.notification.hipchat.service:
  account:
    notify-monitoring:
      profile: v1
      auth_token: 3eLB803Nyp7UBmegJwP1rMdUmzk5HqnzJCgflrhv</pre></div><p>You can also specify defaults for the notification messages. For the complete
list of attributes, see <a class="link" href="notification-settings.html#hipchat-account-attributes">HipChat Account Attributes</a>.</p></div><div class="navfooter"><span class="prev"><a href="configuring-email.html">
              « 
              Configuring Email</a>
           
        </span><span class="next">
           
          <a href="configuring-slack.html">Configuring Slack
               »
            </a></span></div>
<!-- end body -->

            </section>

            <div id="rtpcontainer"
         class="col-xs-12 col-sm-4 col-md-4"><h3>Top Videos</h3><ul><li><a href="https://www.elastic.co/webinars/elasticsearch-2-0-overview?baymax=default&elektra=docs&storm=top-video">Getting Started</a></li><li><a href="http://www.elastic.co/webinars/elasticsearch-performance-optimization-tale-two-tickets/?elektra=docs">Scaling</a></li><li><a href="http://www.elastic.co/webinars/shield-securing-your-data-in-elasticsearch/?elektra=docs">Security</a></li></ul><hr/></div></div></div></section></div><script src="//app-lon02.marketo.com/js/forms2/js/forms2.min.js"></script><div class="subscribe-wrapper"><div class="container text-left"><div class="subscribe-title"><h5>Be in the know with the latest and greatest from Elastic.</h5></div><div class="subscribe-form"><form id="mktoForm_1398" class="mktoForm sb-form"></form><div class="form_thanks hide"><p>Thanks for subscribing! We'll keep you updated with new releases.</p></div></div></div></div><footer class="footer-wrapper"><div class="container"><div class="row footer-content"><div class="col-xs-6 col-sm-3 col-md-3"><h3><a href="/products">Products</a></h3><ul><li><a href="/products/elasticsearch">Elasticsearch</a></li><li><a href="/products/kibana">Kibana</a></li><li><a href="/products/logstash">Logstash</a></li><li><a href="/products/beats">Beats</a></li><li><a href="/cloud">Elastic Cloud</a></li><li><a href="/products/shield">Shield (Security)</a></li><li><a href="/products/watcher">Watcher (Alerting)</a></li><li><a href="/products/marvel">Marvel (Monitoring)</a></li><li><a href="/products/graph">Graph</a></li><li><a href="/products/reporting">Reporting</a></li><li><a href="/products/hadoop">ES-Hadoop</a></li></ul></div><div class="col-xs-6 col-sm-3 col-md-3"><h3>Resources</h3><ul><li><a href="/blog">Blog</a></li><li><a href="/community">Community</a></li><li><a href="/use-cases">Customers & Use Cases</a></li><li><a href="/guide">Documentation</a></li><li><a href="/elasticon">Elastic{ON} Events</a></li><li><a href="https://discuss.elastic.co/">Forums</a></li><li><a href="/community/meetups">Meetups</a></li><li><a href="https://support.elastic.co">Support Portal/Login</a></li><li><a href="/videos">Videos & Webinars</a></li><li><a href="/training">Training</a></li></ul></div><div class="col-xs-6 col-sm-3 col-md-3"><h3><a href="/about">About</a></h3><ul><li><a href="/about/careers">Careers</a></li><li><a href="/contact">Contact</a></li><li><a href="/about/leadership">Leadership</a></li><li><a href="/about/partners">Partners</a></li><li><a href="/about/press">Press</a></li></ul></div><div class="col-xs-6 col-sm-3 col-md-3"><h3>Language</h3><ul><li><a href="/">English</a></li><li><a href="/fr">French</a></li><li><a href="/de">German</a></li><li><a href="/jp">Japanese</a></li><li><a href="/kr">Korean</a></li></ul></div></div><div class="row social-icon"><div class="col-xs-12 col-sm-12 col-md-12"><ul><li class="facebook"><a target="_blank" id="footer_facebook" href="http://www.facebook.com/elastic.co" target="_blank"></a></li><li class="twitter"><a target="_blank" id="footer_twitter" href="https://www.twitter.com/elastic" target="_blank"></a></li><li class="linkedin"><a target="_blank" id="footer_linkedin" href="https://www.linkedin.com/company/elastic-co" target="_blank"></a></li><li class="xing"><a target="_blank" id="footer_xing" href="https://www.xing.com/companies/elastic.co" target="_blank"></a></li><li class="youtube"><a target="_blank" id="footer_youtube" href="https://www.youtube.com/user/elasticsearch" target="_blank"></a></li></ul></div></div><div class="row"><div class="col-xs-12 col-sm-12 col-md-12"><div class="copyright"><ul><li><a href="/legal/trademarks">Trademarks</a></li><li><a href="" legal="" terms-of-use"="">Terms of Use</a></li><li><a href="" legal="" privacy-policy"="">Privacy</a></li><li><a href="" legal="" privacy-and-cookie-policy"="">Cookie Policy</a></li><li><a href="/brand">Brand</a></li></ul><div class="copyright-content"><div class="footer-logo"><a href="#"><img src="/static/images/elastic-logo-H-full color.png" class="img-responsive"></a></div><div class="footer-text"><p>© 2016. All Rights Reserved - Elasticsearch</p><p>Elasticsearch is a trademark of Elasticsearch BV, registered in the U.S. and in other countries</p><p>Apache, Apache Lucene, Apache Hadoop, Hadoop, HDFS and the yellow elephant logo are trademarks of the <a href="http://www.apache.org/" target="_blank">Apache Software Foundation</a> in the United States and/or other countries.</p></div></div></div></div></div></div></footer><style type="text/css">
		
			.facebook{background:url("/assets/bltf66b1b8a624e81b2/facebook.svg") no-repeat;}		
		
			.twitter{background:url("/assets/blt0c27fbeba1f2b85b/twitter.svg") no-repeat;}		
		
			.linkedin{background:url("/assets/blt7890ae949fd3873f/linkedin.svg") no-repeat;}		
		
			.xing{background:url("/assets/blt0d0981773de2643c/xing.svg") no-repeat;}		
		
			.youtube{background:url("/assets/blt891f87ea1aa18977/youtube.svg") no-repeat;}		
		
	</style><script>
MktoForms2.loadForm("//app-lon02.marketo.com", "813-MAM-392", 1398,function(form){
  form.onSuccess(function(form){
    $('#mktoForm_1398').css('display','none');
    $('#subscribe-newsletter header').hide();
    $('#mktoForm_1398').siblings('.form_thanks').removeClass('hide')
    dataLayer.push({'event': 'mktoFormSubmit'});
      return false;
    });
});
</script><script src="/static/js/jquery.min.js"></script><script src="/static/js/bootstrap.min.js"></script><script src="/static/js/jquery.autocomplete.js"></script><script src="/static/js/script.js"></script></section></div><script type="text/javascript">
	var suggestionsUrl = "https://search.elastic.co/suggest";	
</script><script src="/static/js/jquery.cookie.js"></script><style></style><script type="text/javascript">
       $(document).ready(function(){
        $('.dropdown-btn').on('click', function(){
          myFunction();
        });
         function myFunction() {
            // document.getElementById("myDropdown").classList.toggle("show");
            $('#myDropdown').toggleClass('show');
        }

        // Close the dropdown menu if the user clicks outside of it
        $('body').on('click', function(event){
          if (!event.target.matches('.dropdown-btn')) {

            var dropdowns = $(".dropdown-content");
            var i;
            for (i = 0; i < dropdowns.length; i++) {
              var openDropdown = dropdowns[i];
              if (openDropdown.classList.contains('show')) {
                openDropdown.classList.remove('show');
              }
            }
          }
        });
       });
     </script>
            <script type="text/javascript" src="docs.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
<script type='text/javascript' src='https://google-code-prettify.googlecode.com/svn/loader/run_prettify.js'></script>

            </body>
        