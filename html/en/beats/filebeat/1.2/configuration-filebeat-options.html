<!DOCTYPE html><html lang="en"><head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Filebeat
        | Filebeat Reference [1.2]
      | Elastic
    </title><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Filebeat Reference [1.2]" /><link rel="up" href="filebeat-configuration-details.html" title="Configuration Options" /><link rel="prev" href="filebeat-configuration-details.html" title="Configuration Options" /><link rel="next" href="elasticsearch-output.html" title="Elasticsearch Output" /><meta name="DC.type" content="Docs/Filebeat/Reference/1.2" /><meta http-equiv="content-type" content="text/html; charset=utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png?change=123"><link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png?change=123"><link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png?change=123"><link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png?change=123"><link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png?change=123"><link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png?change=123"><link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png?change=123"><link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png?change=123"><link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png?change=123"><link rel="icon" type="image/png" sizes="192x192" href="/android-icon-192x192.png?change=123"><link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png?change=123"><link rel="icon" type="image/png" sizes="96x96" href="/favicon-96x96.png?change=123"><link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png?change=123"><link rel="manifest" href="/manifest.json"><meta name="msapplication-TileColor" content="#ffffff"><meta name="msapplication-TileImage" content="/ms-icon-144x144.png"><meta name="theme-color" content="#ffffff"><link rel="schema.DC" href="http://purl.org/dc/elements/1.1/"><link rel="schema.DCTERMS" href="http://purl.org/dc/terms/"><meta name="description" content=""/><meta property="og:image" content="/static/img/cluster-small.png"/><link rel="shortcut icon" href="favicon.ico" type="image/x-icon"><link rel="icon" href="favicon.ico?change=123" type="image/x-icon"><link rel="apple-touch-icon-precomposed" sizes="64x64" href="favicon_64x64_16bit.png"><link rel="apple-touch-icon-precomposed" sizes="32x32" href="favicon_32x32.png"><link rel="apple-touch-icon-precomposed" sizes="16x16" href="favicon_16x16.png"><link href="/static/css/main.css" rel="stylesheet"> <!--[if lt IE 9]><script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script><script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script><![endif]--><link type="text/css" rel="stylesheet" href="/static/css/prettify.css"/><link type="text/css" rel="stylesheet" href="/static/css/guide.css"/><script type="text/javascript" src="/static/js/prettify.js"></script>
<link rel="stylesheet" type="text/css" href="styles.css" />

</head><body><script>dataLayer = [];</script><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-58RLH5" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
			new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
			j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
			'//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
	})(window,document,'script','dataLayer','GTM-58RLH5');</script><header class="header-wrapper"><div class="navigation-wrapper"><div class="container"><nav class="navbar"><div class="navbar-mobile-header navbar-header mr-20 mr-xs-0"><div class="row hidden-sm hidden-md hidden-lg"><div class="col-xs-5 hidden-sm hidden-md hidden-lg"><div class="navbar-mobile-header-icon navbar-mobile-header-icon-out"><span></span><span></span><span></span></div> <a href="/learn" class="nav-title hidden-sm hidden-md hidden-lg m-l-10">Learn</a></div><div class="col-xs-2 text-center"><div class="navbar-brand" id="elastic"><h1> <a class="logo-m hidden-sm hidden-md hidden-lg" href="/"><img src="/assets/blt65c71c1236219a27/elastic-logo-mobile.svg" alt="elastic-logo-mobile"></a></h1></div></div><div class="col-xs-5 hidden-sm hidden-md hidden-lg text-right"><ul class="menu-m hidden-sm hidden-md hidden-lg"><li class=""><a class="icon-contact" href="/contact"></a></li><li id="searchbar"><a class="button icon" href="#"></a></li><li class="lang global-language"><a href="#">EN</a><ul class="language-list"><li><a href="/">English</a></li><li><a href="/fr/">français</a></li><li><a href="/de/">Deutsche</a></li><li><a href="/jp/">日本語</a></li><li><a href="/kr/">한국어</a></li></ul></li></ul></div></div><div class="navbar-brand hidden-xs" id="elastic"><h1> <a class="hidden-xs" id="elastic-logo" href="/"><img src="/assets/blt49aa5273c3bf983b/elastic-logo.svg" alt="elastic-logo"></a></h1></div></div><div class="collapse navbar-collapse mobile-inner-nav"><nav class="nav navbar-nav primary-nav-hover" id="nav"><ul><li> <a id="nav_products" class="  nav-item" href="/products">Products</a><div class="text-center quaternary-nav hidden-xs hover-nav"><div class="container"><div class="p-t-b-5"><ul class="list-inline nav-group"><li> <a href="/products/elasticsearch">Elasticsearch</a></li><li> <a href="/cloud">Elasticsearch as a Service</a></li><li> <a href="/products/logstash">Logstash</a></li><li> <a href="/products/kibana">Kibana</a></li><li> <a href="/products/beats">Beats</a></li><li> <a href="/products/watcher">Watcher</a></li><li> <a href="/products/shield">Shield</a></li><li> <a href="/products/marvel">Marvel</a></li><li> <a href="/products/graph">Graph</a></li><li> <a href="/products/reporting">Reporting</a></li><li> <a href="/products/hadoop">Hadoop</a></li></ul></div></div></div><ul class="hidden-sm hidden-md hidden-lg sub-navigation"><li><a id="nav_elasticsearch" href="/products/elasticsearch">Elasticsearch</a></li><li><a id="nav_elasticsearch as a service" href="/cloud">Elasticsearch as a Service</a></li><li><a id="nav_logstash" href="/products/logstash">Logstash</a></li><li><a id="nav_kibana" href="/products/kibana">Kibana</a></li><li><a id="nav_beats" href="/products/beats">Beats</a></li><li><a id="nav_watcher" href="/products/watcher">Watcher</a></li><li><a id="nav_shield" href="/products/shield">Shield</a></li><li><a id="nav_marvel" href="/products/marvel">Marvel</a></li><li><a id="nav_graph" href="/products/graph">Graph</a></li><li><a id="nav_reporting" href="/products/reporting">Reporting</a></li><li><a id="nav_hadoop" href="/products/hadoop">Hadoop</a></li></ul></li><li> <a id="nav_cloud" class="  nav-item" href="/cloud">Cloud</a><div class="text-center quaternary-nav hidden-xs hover-nav"><div class="container"><div class="p-t-b-5"><ul class="list-inline nav-group"><li> <a href="/cloud/subscriptions">Subscriptions</a></li><li> <a href="/cloud/pricing">Pricing</a></li><li> <a href="/cloud/support">Support</a></li></ul></div></div></div><ul class="hidden-sm hidden-md hidden-lg sub-navigation"><li><a id="nav_subscriptions" href="/cloud/subscriptions">Subscriptions</a></li><li><a id="nav_pricing" href="/cloud/pricing">Pricing</a></li><li><a id="nav_support" href="/cloud/support">Support</a></li></ul></li><li> <a id="nav_services" class="  nav-item" href="/services">Services</a></li><li> <a id="nav_customers" class="  nav-item" href="/use-cases">Customers</a></li><li> <a id="nav_learn" class="active nav-item" href="/learn">Learn</a><div class="text-center quaternary-nav hidden-xs hover-nav"><div class="container"><div class="p-t-b-5"><ul class="list-inline nav-group"><li> <a href="/community">Community</a></li><li> <a href="/guide">Docs</a></li><li> <a href="/blog">Blog</a></li><li> <a href="/videos">Videos</a></li><li> <a href="https://discuss.elastic.co/">Forums</a></li><li> <a href="/elasticon">Elastic{ON}</a></li></ul></div></div></div><ul class="hidden-sm hidden-md hidden-lg sub-navigation"><li><a id="nav_community" href="/community">Community</a></li><li><a id="nav_docs" href="/guide">Docs</a></li><li><a id="nav_blog" href="/blog">Blog</a></li><li><a id="nav_videos" href="/videos">Videos</a></li><li><a id="nav_forums" href="https://discuss.elastic.co/">Forums</a></li><li><a id="nav_elastic{on}" href="/elasticon">Elastic{ON}</a></li></ul></li></ul></nav><nav class="nav navbar-nav navbar-right hidden-xs"><ul><li class="hidden-xs hidden-sm"><a href="/downloads">Downloads</a></li><li class="hidden-xs hidden-md hidden-lg"><a class="icon-download" href="/downloads"></a></li><li class="hidden-xs hidden-sm"><a class="btn btn-primary btn-contact" href="/contact">Contact</a></li><li class="hidden-xs hidden-md hidden-lg"><a class="icon-contact" href="/contact"></a></li><li class="hidden-xs" id="searchbar"><a class="button icon" href="#"></a></li><li class="hidden-xs lang global-language"><a href="#">EN</a><ul class="language-list"><li><a class="" href="/">English</a></li><li><a class="" href="/fr/">français</a></li><li><a class="" href="/de/">Deutsche</a></li><li><a class="" href="/jp/">日本語</a></li><li><a class="" href="/kr/">한국어</a></li></ul></li></ul></nav></div></nav></div></div><div class="header-search-wrapper open-search"><div class="container"><div class="big-search"><i class="big-search-icon"></i><form id="searchfrm" name="searchForm" autocomplete="on" action="/search" method="get"><ul class="tags-wrapper"><li class="search-field"><input type="text" name="q" id="autocomplete" class="form-control global-input" autocomplete="off"></li></ul></form><a class="header-search-cancel" href="#"></a></div><div class="nav-auto-complete"></div></div></div><script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script><script>
$(window).load(function () {
  $(".navbar-mobile-header-icon").click(function(index){
    $('.navigation-wrapper').toggleClass('menu-overlay');
    $(this).toggleClass("navbar-mobile-header-icon-click navbar-mobile-header-icon-out");
    $(".mobile-inner-nav").slideToggle(500);
    $('.mobile-inner-nav .sub-navigation').css('display','none');
    $(".mobile-inner-nav a").each(function( index ) {
      $(this).css({'animation-delay': (index/25)+'s'});
    });
  });

  if($(window).width() < 769){
    $(".nav-item").click(function(e){
      e.preventDefault();
      var parent = $(this).parent();
      $('.sub-navigation',parent).slideToggle(250);
    })
  }
});
</script></header><style> 
    
      .m-shortcuts li a.m-search {
        background: url("/assets/blt78ef101d1c58b693/m-search-icon.png") no-repeat scroll center center rgba(0, 0, 0, 0);
        background-size: contain;}
    
      .m-shortcuts li a.m-docs {
        background: url("/assets/blt8c2d02cd42735ac3/m-guide-icon.png") no-repeat scroll center center rgba(0, 0, 0, 0);
        background-size: contain;}
    
      .m-shortcuts li a.m-contact {
        background: url("/assets/blte4c9f7f37cf09587/m-contact-icon.png") no-repeat scroll center center rgba(0, 0, 0, 0);
        background-size: contain;}
      
</style><script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script><script type="text/javascript" src="/static/js/nav-v5.js"></script><script type="text/javascript">
  $(document).ready( function(){
    $('.navbar-toggle').on('click', function(){
      $('.mobile-navigation, .menu-open').hide();
      $('.navigation-wrapper').addClass('mobile-navigation');
      $('.navbar').addClass('menu-open');
      $('.menu-close').show();
    });
    $('.menu-close').on('click', function(){
      $('.navigation-wrapper').removeClass('mobile-navigation');
      $('.navbar').removeClass('menu-open');
      $('.menu-close').hide();
      console.log("close");
    });

    // $(".mobile-inner-header-icon").click(function(){
    //   $(this).toggleClass("mobile-inner-header-icon-click mobile-inner-header-icon-out");
    //   $(".mobile-inner-nav").slideToggle(250);
    //   $(".navigation-wrapper").toggleClass('mobile-menu');
    //   if ($('.mobile-inner-header-icon-click').is(":visible")) {
    //     $('.menu-m').css({'display':"none"});
    //   }else{
    //     $('.menu-m').css({'display':"table-cell"});
    //   }
    // });
    // $(".mobile-inner-nav a").each(function( index ) {
    //   $( this ).css({'animation-delay': (index/10)+'s'});
    //   // $(".navigation-wrapper").removeClass('mobile-menu');
    // });
  });
</script><div class="tertiary-nav"><div class="container"><div class="p-t-b-13 bdr-btm-e7e7e7 clearfix"><div class="breadcrum-wrapper pull-left text-left"> <a href="/learn">Learn</a> <span>Docs</span></div></div></div></div><div class="nav-mobile-dropdown hidden-sm hidden-md hidden-lg clearfix"><div class="container"><div class="breadcrum-wrapper pull-left text-left"> <a class="dropdown-btn" href="javascript:void(0)">Docs</a></div></div></div><div class="main-container"><section id="content"><div class="content-wrapper">
            <div id="pageheader">
    <div class="container">
        <header>
            <h1><a href="/learn" title="Learn">Learn</a> |</h1>
            <h2><a href="/guide" title="Docs">Docs</a></h2>
        </header>
    </div>
</div>
<section id="guide">

            <!-- start body -->
<div class="breadcrumbs"><span class="breadcrumb-link"><a href="index.html">Filebeat Reference
      [1.2]
    </a></span> » <span class="breadcrumb-link"><a href="reference.html">Reference </a></span> » <span class="breadcrumb-link"><a href="filebeat-configuration-details.html">Configuration Options</a></span> » <span class="breadcrumb-node">Filebeat</span></div><div class="navheader"><span class="prev"><a href="filebeat-configuration-details.html">
              « 
              Configuration Options</a>
           
        </span><span class="next">
           
          <a href="elasticsearch-output.html">Elasticsearch Output
               »
            </a></span></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="configuration-filebeat-options"></a>Filebeat<a href="https://github.com/elastic/beats/edit/1.2/filebeat/docs/reference/configuration/filebeat-options.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h2></div></div></div><p>The <code class="literal">filebeat</code> section specifies a list of <code class="literal">prospectors</code> that Filebeat
uses to locate and process log files. Each prospector item begins with a dash (-)
and specifies prospector-specific configuration options, including
the list of paths that are crawled to locate log files.</p><p>Here is a sample configuration:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-yaml">filebeat:
  # List of prospectors to fetch data.
  prospectors:
    # Each - is a prospector. Below are the prospector specific configurations
    -
      # Paths that should be crawled and fetched. Glob based paths.
      # For each file found under this path, a harvester is started.
      paths:
        - "/var/log/apache/httpd-*.log"
      # Type to be published in the 'type' field. For Elasticsearch output,
      # the type defines the document type these entries should be stored
      # in. Default: log
      document_type: apache
    -
      paths:
        - /var/log/messages
        - "/var/log/*.log"</pre></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_options"></a>Options<a href="https://github.com/elastic/beats/edit/1.2/filebeat/docs/reference/configuration/filebeat-options.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_paths"></a>paths<a href="https://github.com/elastic/beats/edit/1.2/filebeat/docs/reference/configuration/filebeat-options.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4></div></div></div><p>A list of glob-based paths that should be crawled and fetched. Filebeat starts a harvester for
each file that it finds under the specified paths. You can specify one path per line. Each line begins with a dash (-).</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_input_type"></a>input_type<a href="https://github.com/elastic/beats/edit/1.2/filebeat/docs/reference/configuration/filebeat-options.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4></div></div></div><p>One of the following input types:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
log: Reads every line of the log file (default)
</li><li class="listitem">
stdin: Reads the standard in
</li></ul></div><p>The value that you specify here is used as the <code class="literal">input_type</code> for each event published to Logstash and Elasticsearch.</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="exclude-lines"></a>exclude_lines<a href="https://github.com/elastic/beats/edit/1.2/filebeat/docs/reference/configuration/filebeat-options.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4></div></div></div><p>A list of regular expressions to match the lines that you want Filebeat to exclude. Filebeat drops any lines that match a regular expression in the list. By default, no lines are dropped.</p><p>If <a class="xref" href="configuration-filebeat-options.html#multiline" title="multiline">multiline</a> is also specified, each multiline message is combined into a single line before the lines are filtered by <code class="literal">exclude_lines</code>.</p><p>The following example configures Filebeat to drop any lines that start with "DBG".</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-yaml">exclude_lines: ["^DBG"]</pre></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="include-lines"></a>include_lines<a href="https://github.com/elastic/beats/edit/1.2/filebeat/docs/reference/configuration/filebeat-options.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4></div></div></div><p>A list of regular expressions to match the lines that you want Filebeat to include. Filebeat exports only the lines that match a regular expression in the list. By default, all lines are exported.</p><p>If <a class="xref" href="configuration-filebeat-options.html#multiline" title="multiline">multiline</a> is also specified, each multiline message is combined into a single line before the lines are filtered by <code class="literal">include_lines</code>.</p><p>The following example configures Filebeat to export any lines that start with "ERR" or "WARN":</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-yaml">include_lines: ["^ERR", "^WARN"]</pre></div><div class="note admon"><div class="icon"><img alt="Note" src="images/icons/note.png" /></div><div class="admon_content"><p>If both <code class="literal">include_lines</code> and <code class="literal">exclude_lines</code> are defined, Filebeat executes <code class="literal">include_lines</code> first and then executes <code class="literal">exclude_lines</code>. So, for example, to export all Apache log lines except the debugging messages (DBGs), you can use:</p></div></div><div class="pre_wrapper"><pre class="programlisting prettyprint lang-yaml"> include_lines: ["apache"]
 exclude_lines: ["^DBG"]</pre></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_exclude_files"></a>exclude_files<a href="https://github.com/elastic/beats/edit/1.2/filebeat/docs/reference/configuration/filebeat-options.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4></div></div></div><p>A list of regular expressions to match the files that you want Filebeat to ignore. By default no files are excluded.</p><p>The following example configures Filebeat to ignore all the files that have a <code class="literal">gz</code> extension:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-yaml">  exclude_files: [".gz$"]</pre></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="configuration-fields"></a>fields<a href="https://github.com/elastic/beats/edit/1.2/filebeat/docs/reference/configuration/filebeat-options.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4></div></div></div><p>Optional fields that you can specify to add additional information to the output. For
example, you might add fields that you can use for filtering log data. Fields can be
scalar values, arrays, dictionaries, or any nested combination of these. All scalar values will be interpreted as strings. By default,
the fields that you specify here will be grouped under a <code class="literal">fields</code> sub-dictionary in the output document. To store the custom fields as top-level fields, set the <code class="literal">fields_under_root</code> option to true.</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-yaml">fields:
    level: debug
    review: 1</pre></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="fields-under-root"></a>fields_under_root<a href="https://github.com/elastic/beats/edit/1.2/filebeat/docs/reference/configuration/filebeat-options.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4></div></div></div><p>If this option is set to true, the custom <a class="xref" href="configuration-filebeat-options.html#configuration-fields" title="fields">fields</a> are stored as top-level fields
in the output document instead of being grouped under a <code class="literal">fields</code> sub-dictionary.
If the custom field names conflict with other field names added by Filebeat, the custom fields overwrite the other fields.</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="ignore-older"></a>ignore_older<a href="https://github.com/elastic/beats/edit/1.2/filebeat/docs/reference/configuration/filebeat-options.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4></div></div></div><p>If this option is specified, Filebeat
ignores any files that were modified before the specified timespan. This is disabled by default.</p><p>You can use time strings like 2h (2 hours) and 5m (5 minutes). The default is 0, which means disable.
Commenting out the config has the same affect as setting it to 0.</p><p>Files which were falling under ignore_older and are updated again, will start
from the offset the file was at when it was last ignored by ignore_older. As an example:
A file was not modified for 90 hours and the offset is at 200. Now a new line is added and
the last modification date is updated. After scan_frequency detects the change the crawling
starts at the offset 200. In case the file was falling under ignore_older already when filebeat
was started, the first 200 lines are never sent. In case filebeat was started earlier, the 200
chars were already sent and it now continues at the old offset.</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_close_older"></a>close_older<a href="https://github.com/elastic/beats/edit/1.2/filebeat/docs/reference/configuration/filebeat-options.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4></div></div></div><p>After a file was not modified for the duration of close_older, the file handle will be closed.
After closing the file, a file change will only be detected after scan_frequency instead of almost
instant.</p><p>You can use time strings like 2h (2 hours) and 5m (5 minutes). The default is 1h.</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_scan_frequency"></a>scan_frequency<a href="https://github.com/elastic/beats/edit/1.2/filebeat/docs/reference/configuration/filebeat-options.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4></div></div></div><p>How often the prospector checks for new files in the paths that are specified
for harvesting. For example, if you specify a glob like <code class="literal">/var/log/*</code>, the
directory is scanned for files using the frequency specified by
<code class="literal">scan_frequency</code>. Specify 1s to scan the directory as frequently as possible
without causing Filebeat to scan too frequently. The default setting is
10s.</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_document_type"></a>document_type<a href="https://github.com/elastic/beats/edit/1.2/filebeat/docs/reference/configuration/filebeat-options.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4></div></div></div><p>The event type to use for published lines read by harvesters. For Elasticsearch
output, the value that you specify here is used to set the <code class="literal">type</code> field in the output
document. The default value is <code class="literal">log</code>.</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_harvester_buffer_size"></a>harvester_buffer_size<a href="https://github.com/elastic/beats/edit/1.2/filebeat/docs/reference/configuration/filebeat-options.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4></div></div></div><p>The size in bytes of the buffer that each harvester uses when fetching a file. The default is 16384.</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_max_bytes"></a>max_bytes<a href="https://github.com/elastic/beats/edit/1.2/filebeat/docs/reference/configuration/filebeat-options.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4></div></div></div><p>The maximum number of bytes that a single log message can have. All bytes after <code class="literal">max_bytes</code> are discarded and not sent.
This setting is especially useful for multiline log messages, which can get large. The default is 10MB (10485760).</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="multiline"></a>multiline<a href="https://github.com/elastic/beats/edit/1.2/filebeat/docs/reference/configuration/filebeat-options.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4></div></div></div><p>Options that control how Filebeat deals with log messages that span multiple lines. Multiline messages are common in files that contain Java stack traces.</p><p>The following example shows how to configure Filebeat to handle a multiline message where the first line of the message begins with a bracket (<code class="literal">[</code>).</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-yaml">multiline:
    pattern: ^\[
    negate: true
    match: after</pre></div><p>Filebeat takes all the lines that do not start with <code class="literal">[</code> and combines them with the previous line that does. For example, you could use this configuration to join the following lines of a multiline message into a single event:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-sh">[beat-logstash-some-name-832-2015.11.28] IndexNotFoundException[no such index]
    at org.elasticsearch.cluster.metadata.IndexNameExpressionResolver$WildcardExpressionResolver.resolve(IndexNameExpressionResolver.java:566)
    at org.elasticsearch.cluster.metadata.IndexNameExpressionResolver.concreteIndices(IndexNameExpressionResolver.java:133)
    at org.elasticsearch.cluster.metadata.IndexNameExpressionResolver.concreteIndices(IndexNameExpressionResolver.java:77)
    at org.elasticsearch.action.admin.indices.delete.TransportDeleteIndexAction.checkBlock(TransportDeleteIndexAction.java:75)</pre></div><p>You specify the following settings under <code class="literal">multiline</code> to control how Filebeat combines the lines in the message:</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">
<span class="strong"><strong><code class="literal">pattern</code></strong></span>
</span></dt><dd>
Specifies the regular expression pattern to match.
</dd><dt><span class="term">
<span class="strong"><strong><code class="literal">negate</code></strong></span>
</span></dt><dd>
Defines whether the pattern is negated. The default is <code class="literal">false</code>.
</dd><dt><span class="term">
<span class="strong"><strong><code class="literal">match</code></strong></span>
</span></dt><dd><p class="simpara">
Specifies how Filebeat combines matching lines into an event. The settings are <code class="literal">after</code> or <code class="literal">before</code>. The behavior of these settings depends on what you specify for <code class="literal">negate</code>:
</p><div class="informaltable"><table cellpadding="4px" border="1"><colgroup><col class="col_1" /><col class="col_2" /><col class="col_3" /></colgroup><thead><tr><th align="left" valign="top">Setting for <code class="literal">negate</code> </th><th align="left" valign="top"> Setting for <code class="literal">match</code> </th><th align="left" valign="top"> Result</th></tr></thead><tbody><tr><td align="left" valign="top"><p><code class="literal">false</code></p></td><td align="left" valign="top"><p><code class="literal">after</code></p></td><td align="left" valign="top"><p>Consecutive lines that match the pattern are appended to the previous line that doesn’t match.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">false</code></p></td><td align="left" valign="top"><p><code class="literal">before</code></p></td><td align="left" valign="top"><p>Consecutive lines that match the pattern are prepended to the next line that doesn’t match.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">true</code></p></td><td align="left" valign="top"><p><code class="literal">after</code></p></td><td align="left" valign="top"><p>Consecutive lines that don’t match the pattern are appended to the previous line that does match.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">true</code></p></td><td align="left" valign="top"><p><code class="literal">before</code></p></td><td align="left" valign="top"><p>Consecutive lines that don’t match the pattern are prepended to the next line that does match.</p></td></tr></tbody></table></div><div class="note admon"><div class="icon"><img alt="Note" src="images/icons/note.png" /></div><div class="admon_content"><p>The <code class="literal">after</code> setting is equivalent to <code class="literal">previous</code> in <a class="ulink" href="https://www.elastic.co/guide/en/logstash/current/plugins-codecs-multiline.html" target="_top">Logstash</a>, and <code class="literal">before</code> is equivalent to <code class="literal">next</code>.</p></div></div></dd><dt><span class="term">
<span class="strong"><strong><code class="literal">max_lines</code></strong></span>
</span></dt><dd>
The maximum number of lines that can be combined into one event. If
the multiline message contains more than <code class="literal">max_lines</code>, any additional
lines are discarded. The default is 500.
</dd><dt><span class="term">
<span class="strong"><strong><code class="literal">timeout</code></strong></span>
</span></dt><dd>
After the specified timeout, Filebeat sends the multiline event even if no new pattern is found to start a new event. The default is 5s.
</dd></dl></div><p>Here’s an example configuration that shows the regular expression for a slightly more complex example:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-sh">multiline:
    pattern: "^[[:space:]]+(at|...)|^Caused by:"
    negate: false
    match: after</pre></div><p>In this example, the pattern matches the following lines:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
a line that begins with spaces followed by the word <code class="literal">at</code> or <code class="literal">...</code>
</li><li class="listitem">
a line that begins with the words <code class="literal">Caused by:</code>
</li></ul></div><p>You could use this configuration to join the following lines from a Java stack trace into a single event:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-sh">Exception in thread "main" java.lang.IllegalStateException: A book has a null property
       at com.example.myproject.Author.getBookIds(Author.java:38)
       at com.example.myproject.Bootstrap.main(Bootstrap.java:14)
Caused by: java.lang.NullPointerException
       at com.example.myproject.Book.getId(Book.java:22)
       at com.example.myproject.Author.getBookIds(Author.java:35)
       ... 1 more</pre></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_tail_files"></a>tail_files<a href="https://github.com/elastic/beats/edit/1.2/filebeat/docs/reference/configuration/filebeat-options.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4></div></div></div><p>If this option is set to true, Filebeat starts reading new files at the end of each file instead of the beginning. When this option is used in combination with log rotation, it’s possible that the first log entries in a new file might be skipped. The default setting is false.</p><div class="note admon"><div class="icon"><img alt="Note" src="images/icons/note.png" /></div><div class="admon_content"><p>You can use this setting to avoid indexing old log lines when you run Filebeat on a set of log files for the first time. After the first run, we recommend disabling this option, or you risk losing lines during file rotation.</p></div></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_backoff"></a>backoff<a href="https://github.com/elastic/beats/edit/1.2/filebeat/docs/reference/configuration/filebeat-options.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4></div></div></div><p>The backoff options specify how aggressively Filebeat crawls new files for updates.
You can use the default values in most cases.</p><p>The <code class="literal">backoff</code> option defines how long Filebeat
waits before checking a file again after EOF is reached. The default is 1s, which means
the file is checked every second if new lines were added. This enables near real-time crawling. Every time a new line appears in the file, the <code class="literal">backoff</code> value is reset to the initial
value. The default is 1s.</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_max_backoff"></a>max_backoff<a href="https://github.com/elastic/beats/edit/1.2/filebeat/docs/reference/configuration/filebeat-options.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4></div></div></div><p>The maximum time for Filebeat to wait before checking a file again after EOF is
reached. After having backed off multiple times from checking the file, the wait time
will never exceed <code class="literal">max_backoff</code> regardless of what is specified for  <code class="literal">backoff_factor</code>.
Because it takes a maximum of 10s to read a new line, specifying 10s for <code class="literal">max_backoff</code> means that, at the worst, a new line could be added to the log file if Filebeat has
backed off multiple times. The default is 10s.</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_backoff_factor"></a>backoff_factor<a href="https://github.com/elastic/beats/edit/1.2/filebeat/docs/reference/configuration/filebeat-options.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4></div></div></div><p>This option specifies how fast the waiting time is increased. The bigger the
backoff factor, the faster the <code class="literal">max_backoff</code> value is reached. The backoff factor
increments exponentially. The minimum value allowed is 1. If this value is set to 1,
the backoff algorithm is disabled, and the <code class="literal">backoff</code> value is used for waiting for new
lines. The <code class="literal">backoff</code> value will be multiplied each time with the <code class="literal">backoff_factor</code> until
<code class="literal">max_backoff</code> is reached. The default is 2.</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_force_close_files"></a>force_close_files<a href="https://github.com/elastic/beats/edit/1.2/filebeat/docs/reference/configuration/filebeat-options.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4></div></div></div><p>By default, Filebeat keeps the files that it’s reading open until the timespan specified by <code class="literal">close_older</code> has elapsed.
This behaviour can cause issues when a file is removed. On Windows, the file cannot be fully removed until Filebeat closes
the file. In addition no new file with the same name can be created during this time.</p><p>You can force Filebeat to close the file as soon as the file name changes by setting the
<code class="literal">force_close_files</code> option to true. The default is false. Turning on this option can lead to loss of data on
rotated files in case not all lines were read from the rotated file.</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_spool_size"></a>spool_size<a href="https://github.com/elastic/beats/edit/1.2/filebeat/docs/reference/configuration/filebeat-options.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4></div></div></div><p>The event count spool threshold. This setting forces a network flush if the number of events in the spooler exceeds
the specified value.</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-yaml">filebeat:
  spool_size: 2048</pre></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_publish_async"></a>publish_async<a href="https://github.com/elastic/beats/edit/1.2/filebeat/docs/reference/configuration/filebeat-options.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4></div></div></div><p>If enabled, the publisher pipeline in filebeat operates in async mode preparing
a new batch of lines while waiting for ACK. This option can improve load-balancing
throughput at the cost of increased memory usage. The default value is false.</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_idle_timeout"></a>idle_timeout<a href="https://github.com/elastic/beats/edit/1.2/filebeat/docs/reference/configuration/filebeat-options.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4></div></div></div><p>A duration string that specifies how often the spooler is flushed. After the
<code class="literal">idle_timeout</code> is reached, the spooler is flushed even if the <code class="literal">spool_size</code> has not been reached.</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-yaml">filebeat:
  idle_timeout: 5s</pre></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_registry_file"></a>registry_file<a href="https://github.com/elastic/beats/edit/1.2/filebeat/docs/reference/configuration/filebeat-options.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4></div></div></div><p>The name of the registry file. By default, the registry file is put in the current
working directory. If the working directory changes for subsequent runs of Filebeat, indexing starts from the beginning again.</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-yaml">filebeat:
  registry_file: .filebeat</pre></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_config_dir"></a>config_dir<a href="https://github.com/elastic/beats/edit/1.2/filebeat/docs/reference/configuration/filebeat-options.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4></div></div></div><p>The full path to the directory that contains additional prospector configuration files.
Each configuration file must end with <code class="literal">.yml</code>. Each config file must also specify the full Filebeat
config hierarchy even though only the prospector part of the file is processed. All global
options, such as <code class="literal">spool_size</code>, are ignored.</p><p>The <code class="literal">config_dir</code> option MUST point to a directory other than the directory where the  main Filebeat config file resides.</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-yaml">filebeat:
  config_dir: path/to/configs</pre></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_encoding"></a>encoding<a href="https://github.com/elastic/beats/edit/1.2/filebeat/docs/reference/configuration/filebeat-options.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4></div></div></div><p>The file encoding to use for reading files that contain international characters.
See the encoding names <a class="ulink" href="http://www.w3.org/TR/encoding/" target="_top">recommended by the W3C for use in HTML5</a>.</p><p>Here are some sample encodings from W3C recommendation:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
plain, latin1, utf-8, utf-16be-bom, utf-16be, utf-16le, big5, gb18030, gbk, hz-gb-2312,
</li><li class="listitem">
euc-kr, euc-jp, iso-2022-jp, shift-jis, and so on
</li></ul></div><p>The <code class="literal">plain</code> encoding is special, because it does not validate or transform any input.</p></div></div></div><div class="navfooter"><span class="prev"><a href="filebeat-configuration-details.html">
              « 
              Configuration Options</a>
           
        </span><span class="next">
           
          <a href="elasticsearch-output.html">Elasticsearch Output
               »
            </a></span></div>
<!-- end body -->

            </section>

            <div id="rtpcontainer"
         class="col-xs-12 col-sm-4 col-md-4"><h3>Top Videos</h3><ul><li><a href="https://www.elastic.co/webinars/elasticsearch-2-0-overview?baymax=default&elektra=docs&storm=top-video">Getting Started</a></li><li><a href="http://www.elastic.co/webinars/elasticsearch-performance-optimization-tale-two-tickets/?elektra=docs">Scaling</a></li><li><a href="http://www.elastic.co/webinars/shield-securing-your-data-in-elasticsearch/?elektra=docs">Security</a></li></ul><hr/></div></div></div></section></div><script src="//app-lon02.marketo.com/js/forms2/js/forms2.min.js"></script><div class="subscribe-wrapper"><div class="container text-left"><div class="subscribe-title"><h5>Be in the know with the latest and greatest from Elastic.</h5></div><div class="subscribe-form"><form id="mktoForm_1398" class="mktoForm sb-form"></form><div class="form_thanks hide"><p>Thanks for subscribing! We'll keep you updated with new releases.</p></div></div></div></div><footer class="footer-wrapper"><div class="container"><div class="row footer-content"><div class="col-xs-6 col-sm-3 col-md-3"><h3><a href="/products">Products</a></h3><ul><li><a href="/products/elasticsearch">Elasticsearch</a></li><li><a href="/products/kibana">Kibana</a></li><li><a href="/products/logstash">Logstash</a></li><li><a href="/products/beats">Beats</a></li><li><a href="/cloud">Elastic Cloud</a></li><li><a href="/products/shield">Shield (Security)</a></li><li><a href="/products/watcher">Watcher (Alerting)</a></li><li><a href="/products/marvel">Marvel (Monitoring)</a></li><li><a href="/products/graph">Graph</a></li><li><a href="/products/reporting">Reporting</a></li><li><a href="/products/hadoop">ES-Hadoop</a></li></ul></div><div class="col-xs-6 col-sm-3 col-md-3"><h3>Resources</h3><ul><li><a href="/blog">Blog</a></li><li><a href="/community">Community</a></li><li><a href="/use-cases">Customers & Use Cases</a></li><li><a href="/guide">Documentation</a></li><li><a href="/elasticon">Elastic{ON} Events</a></li><li><a href="https://discuss.elastic.co/">Forums</a></li><li><a href="/community/meetups">Meetups</a></li><li><a href="https://support.elastic.co">Support Portal/Login</a></li><li><a href="/videos">Videos & Webinars</a></li><li><a href="/training">Training</a></li></ul></div><div class="col-xs-6 col-sm-3 col-md-3"><h3><a href="/about">About</a></h3><ul><li><a href="/about/careers">Careers</a></li><li><a href="/contact">Contact</a></li><li><a href="/about/leadership">Leadership</a></li><li><a href="/about/partners">Partners</a></li><li><a href="/about/press">Press</a></li></ul></div><div class="col-xs-6 col-sm-3 col-md-3"><h3>Language</h3><ul><li><a href="/">English</a></li><li><a href="/fr">French</a></li><li><a href="/de">German</a></li><li><a href="/jp">Japanese</a></li><li><a href="/kr">Korean</a></li></ul></div></div><div class="row social-icon"><div class="col-xs-12 col-sm-12 col-md-12"><ul><li class="facebook"><a target="_blank" id="footer_facebook" href="http://www.facebook.com/elastic.co" target="_blank"></a></li><li class="twitter"><a target="_blank" id="footer_twitter" href="https://www.twitter.com/elastic" target="_blank"></a></li><li class="linkedin"><a target="_blank" id="footer_linkedin" href="https://www.linkedin.com/company/elastic-co" target="_blank"></a></li><li class="xing"><a target="_blank" id="footer_xing" href="https://www.xing.com/companies/elastic.co" target="_blank"></a></li><li class="youtube"><a target="_blank" id="footer_youtube" href="https://www.youtube.com/user/elasticsearch" target="_blank"></a></li></ul></div></div><div class="row"><div class="col-xs-12 col-sm-12 col-md-12"><div class="copyright"><ul><li><a href="/legal/trademarks">Trademarks</a></li><li><a href="" legal="" terms-of-use"="">Terms of Use</a></li><li><a href="" legal="" privacy-policy"="">Privacy</a></li><li><a href="" legal="" privacy-and-cookie-policy"="">Cookie Policy</a></li><li><a href="/brand">Brand</a></li></ul><div class="copyright-content"><div class="footer-logo"><a href="#"><img src="/static/images/elastic-logo-H-full color.png" class="img-responsive"></a></div><div class="footer-text"><p>© 2016. All Rights Reserved - Elasticsearch</p><p>Elasticsearch is a trademark of Elasticsearch BV, registered in the U.S. and in other countries</p><p>Apache, Apache Lucene, Apache Hadoop, Hadoop, HDFS and the yellow elephant logo are trademarks of the <a href="http://www.apache.org/" target="_blank">Apache Software Foundation</a> in the United States and/or other countries.</p></div></div></div></div></div></div></footer><style type="text/css">
		
			.facebook{background:url("/assets/bltf66b1b8a624e81b2/facebook.svg") no-repeat;}		
		
			.twitter{background:url("/assets/blt0c27fbeba1f2b85b/twitter.svg") no-repeat;}		
		
			.linkedin{background:url("/assets/blt7890ae949fd3873f/linkedin.svg") no-repeat;}		
		
			.xing{background:url("/assets/blt0d0981773de2643c/xing.svg") no-repeat;}		
		
			.youtube{background:url("/assets/blt891f87ea1aa18977/youtube.svg") no-repeat;}		
		
	</style><script>
MktoForms2.loadForm("//app-lon02.marketo.com", "813-MAM-392", 1398,function(form){
  form.onSuccess(function(form){
    $('#mktoForm_1398').css('display','none');
    $('#subscribe-newsletter header').hide();
    $('#mktoForm_1398').siblings('.form_thanks').removeClass('hide')
    dataLayer.push({'event': 'mktoFormSubmit'});
      return false;
    });
});
</script><script src="/static/js/jquery.min.js"></script><script src="/static/js/bootstrap.min.js"></script><script src="/static/js/jquery.autocomplete.js"></script><script src="/static/js/script.js"></script></section></div><script type="text/javascript">
	var suggestionsUrl = "https://search.elastic.co/suggest";	
</script><script src="/static/js/jquery.cookie.js"></script><style></style><script type="text/javascript">
       $(document).ready(function(){
        $('.dropdown-btn').on('click', function(){
          myFunction();
        });
         function myFunction() {
            // document.getElementById("myDropdown").classList.toggle("show");
            $('#myDropdown').toggleClass('show');
        }

        // Close the dropdown menu if the user clicks outside of it
        $('body').on('click', function(event){
          if (!event.target.matches('.dropdown-btn')) {

            var dropdowns = $(".dropdown-content");
            var i;
            for (i = 0; i < dropdowns.length; i++) {
              var openDropdown = dropdowns[i];
              if (openDropdown.classList.contains('show')) {
                openDropdown.classList.remove('show');
              }
            }
          }
        });
       });
     </script>
            <script type="text/javascript" src="docs.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
<script type='text/javascript' src='https://google-code-prettify.googlecode.com/svn/loader/run_prettify.js'></script>

            </body>
        