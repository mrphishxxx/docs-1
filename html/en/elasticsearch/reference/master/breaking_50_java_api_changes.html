<!DOCTYPE html><html lang="en"><head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Java API changes
        | Elasticsearch Reference [master]
      | Elastic
    </title><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Elasticsearch Reference [master]" /><link rel="up" href="breaking-changes-5.0.html" title="Breaking changes in 5.0" /><link rel="prev" href="breaking_50_cat_api.html" title="CAT API changes" /><link rel="next" href="_clusterstatsresponse.html" title="ClusterStatsResponse" /><meta name="DC.type" content="Docs/Elasticsearch/Reference/master" /><meta http-equiv="content-type" content="text/html; charset=utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png?change=123"><link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png?change=123"><link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png?change=123"><link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png?change=123"><link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png?change=123"><link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png?change=123"><link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png?change=123"><link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png?change=123"><link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png?change=123"><link rel="icon" type="image/png" sizes="192x192" href="/android-icon-192x192.png?change=123"><link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png?change=123"><link rel="icon" type="image/png" sizes="96x96" href="/favicon-96x96.png?change=123"><link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png?change=123"><link rel="manifest" href="/manifest.json"><meta name="msapplication-TileColor" content="#ffffff"><meta name="msapplication-TileImage" content="/ms-icon-144x144.png"><meta name="theme-color" content="#ffffff"><link rel="schema.DC" href="http://purl.org/dc/elements/1.1/"><link rel="schema.DCTERMS" href="http://purl.org/dc/terms/"><meta name="description" content=""/><meta property="og:image" content="/static/img/cluster-small.png"/><link rel="shortcut icon" href="favicon.ico" type="image/x-icon"><link rel="icon" href="favicon.ico?change=123" type="image/x-icon"><link rel="apple-touch-icon-precomposed" sizes="64x64" href="favicon_64x64_16bit.png"><link rel="apple-touch-icon-precomposed" sizes="32x32" href="favicon_32x32.png"><link rel="apple-touch-icon-precomposed" sizes="16x16" href="favicon_16x16.png"><link href="/static/css/main.css" rel="stylesheet"> <!--[if lt IE 9]><script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script><script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script><![endif]--><link type="text/css" rel="stylesheet" href="/static/css/prettify.css"/><link type="text/css" rel="stylesheet" href="/static/css/guide.css"/><script type="text/javascript" src="/static/js/prettify.js"></script>
<link rel="stylesheet" type="text/css" href="styles.css" />

</head><body><script>dataLayer = [];</script><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-58RLH5" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
			new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
			j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
			'//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
	})(window,document,'script','dataLayer','GTM-58RLH5');</script><header class="header-wrapper"><div class="navigation-wrapper"><div class="container"><nav class="navbar"><div class="navbar-mobile-header navbar-header mr-20 mr-xs-0"><div class="row hidden-sm hidden-md hidden-lg"><div class="col-xs-5 hidden-sm hidden-md hidden-lg"><div class="navbar-mobile-header-icon navbar-mobile-header-icon-out"><span></span><span></span><span></span></div> <a href="/learn" class="nav-title hidden-sm hidden-md hidden-lg m-l-10">Learn</a></div><div class="col-xs-2 text-center"><div class="navbar-brand" id="elastic"><h1> <a class="logo-m hidden-sm hidden-md hidden-lg" href="/"><img src="/assets/blt65c71c1236219a27/elastic-logo-mobile.svg" alt="elastic-logo-mobile"></a></h1></div></div><div class="col-xs-5 hidden-sm hidden-md hidden-lg text-right"><ul class="menu-m hidden-sm hidden-md hidden-lg"><li class=""><a class="icon-contact" href="/contact"></a></li><li id="searchbar"><a class="button icon" href="#"></a></li><li class="lang global-language"><a href="#">EN</a><ul class="language-list"><li><a href="/">English</a></li><li><a href="/fr/">français</a></li><li><a href="/de/">Deutsche</a></li><li><a href="/jp/">日本語</a></li><li><a href="/kr/">한국어</a></li></ul></li></ul></div></div><div class="navbar-brand hidden-xs" id="elastic"><h1> <a class="hidden-xs" id="elastic-logo" href="/"><img src="/assets/blt49aa5273c3bf983b/elastic-logo.svg" alt="elastic-logo"></a></h1></div></div><div class="collapse navbar-collapse mobile-inner-nav"><nav class="nav navbar-nav primary-nav-hover" id="nav"><ul><li> <a id="nav_products" class="  nav-item" href="/products">Products</a><div class="text-center quaternary-nav hidden-xs hover-nav"><div class="container"><div class="p-t-b-5"><ul class="list-inline nav-group"><li> <a href="/products/elasticsearch">Elasticsearch</a></li><li> <a href="/cloud">Elasticsearch as a Service</a></li><li> <a href="/products/logstash">Logstash</a></li><li> <a href="/products/kibana">Kibana</a></li><li> <a href="/products/beats">Beats</a></li><li> <a href="/products/watcher">Watcher</a></li><li> <a href="/products/shield">Shield</a></li><li> <a href="/products/marvel">Marvel</a></li><li> <a href="/products/graph">Graph</a></li><li> <a href="/products/reporting">Reporting</a></li><li> <a href="/products/hadoop">Hadoop</a></li></ul></div></div></div><ul class="hidden-sm hidden-md hidden-lg sub-navigation"><li><a id="nav_elasticsearch" href="/products/elasticsearch">Elasticsearch</a></li><li><a id="nav_elasticsearch as a service" href="/cloud">Elasticsearch as a Service</a></li><li><a id="nav_logstash" href="/products/logstash">Logstash</a></li><li><a id="nav_kibana" href="/products/kibana">Kibana</a></li><li><a id="nav_beats" href="/products/beats">Beats</a></li><li><a id="nav_watcher" href="/products/watcher">Watcher</a></li><li><a id="nav_shield" href="/products/shield">Shield</a></li><li><a id="nav_marvel" href="/products/marvel">Marvel</a></li><li><a id="nav_graph" href="/products/graph">Graph</a></li><li><a id="nav_reporting" href="/products/reporting">Reporting</a></li><li><a id="nav_hadoop" href="/products/hadoop">Hadoop</a></li></ul></li><li> <a id="nav_cloud" class="  nav-item" href="/cloud">Cloud</a><div class="text-center quaternary-nav hidden-xs hover-nav"><div class="container"><div class="p-t-b-5"><ul class="list-inline nav-group"><li> <a href="/cloud/subscriptions">Subscriptions</a></li><li> <a href="/cloud/pricing">Pricing</a></li><li> <a href="/cloud/support">Support</a></li></ul></div></div></div><ul class="hidden-sm hidden-md hidden-lg sub-navigation"><li><a id="nav_subscriptions" href="/cloud/subscriptions">Subscriptions</a></li><li><a id="nav_pricing" href="/cloud/pricing">Pricing</a></li><li><a id="nav_support" href="/cloud/support">Support</a></li></ul></li><li> <a id="nav_services" class="  nav-item" href="/services">Services</a></li><li> <a id="nav_customers" class="  nav-item" href="/use-cases">Customers</a></li><li> <a id="nav_learn" class="active nav-item" href="/learn">Learn</a><div class="text-center quaternary-nav hidden-xs hover-nav"><div class="container"><div class="p-t-b-5"><ul class="list-inline nav-group"><li> <a href="/community">Community</a></li><li> <a href="/guide">Docs</a></li><li> <a href="/blog">Blog</a></li><li> <a href="/videos">Videos</a></li><li> <a href="https://discuss.elastic.co/">Forums</a></li><li> <a href="/elasticon">Elastic{ON}</a></li></ul></div></div></div><ul class="hidden-sm hidden-md hidden-lg sub-navigation"><li><a id="nav_community" href="/community">Community</a></li><li><a id="nav_docs" href="/guide">Docs</a></li><li><a id="nav_blog" href="/blog">Blog</a></li><li><a id="nav_videos" href="/videos">Videos</a></li><li><a id="nav_forums" href="https://discuss.elastic.co/">Forums</a></li><li><a id="nav_elastic{on}" href="/elasticon">Elastic{ON}</a></li></ul></li></ul></nav><nav class="nav navbar-nav navbar-right hidden-xs"><ul><li class="hidden-xs hidden-sm"><a href="/downloads">Downloads</a></li><li class="hidden-xs hidden-md hidden-lg"><a class="icon-download" href="/downloads"></a></li><li class="hidden-xs hidden-sm"><a class="btn btn-primary btn-contact" href="/contact">Contact</a></li><li class="hidden-xs hidden-md hidden-lg"><a class="icon-contact" href="/contact"></a></li><li class="hidden-xs" id="searchbar"><a class="button icon" href="#"></a></li><li class="hidden-xs lang global-language"><a href="#">EN</a><ul class="language-list"><li><a class="" href="/">English</a></li><li><a class="" href="/fr/">français</a></li><li><a class="" href="/de/">Deutsche</a></li><li><a class="" href="/jp/">日本語</a></li><li><a class="" href="/kr/">한국어</a></li></ul></li></ul></nav></div></nav></div></div><div class="header-search-wrapper open-search"><div class="container"><div class="big-search"><i class="big-search-icon"></i><form id="searchfrm" name="searchForm" autocomplete="on" action="/search" method="get"><ul class="tags-wrapper"><li class="search-field"><input type="text" name="q" id="autocomplete" class="form-control global-input" autocomplete="off"></li></ul></form><a class="header-search-cancel" href="#"></a></div><div class="nav-auto-complete"></div></div></div><script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script><script>
$(window).load(function () {
  $(".navbar-mobile-header-icon").click(function(index){
    $('.navigation-wrapper').toggleClass('menu-overlay');
    $(this).toggleClass("navbar-mobile-header-icon-click navbar-mobile-header-icon-out");
    $(".mobile-inner-nav").slideToggle(500);
    $('.mobile-inner-nav .sub-navigation').css('display','none');
    $(".mobile-inner-nav a").each(function( index ) {
      $(this).css({'animation-delay': (index/25)+'s'});
    });
  });

  if($(window).width() < 769){
    $(".nav-item").click(function(e){
      e.preventDefault();
      var parent = $(this).parent();
      $('.sub-navigation',parent).slideToggle(250);
    })
  }
});
</script></header><style> 
    
      .m-shortcuts li a.m-search {
        background: url("/assets/blt78ef101d1c58b693/m-search-icon.png") no-repeat scroll center center rgba(0, 0, 0, 0);
        background-size: contain;}
    
      .m-shortcuts li a.m-docs {
        background: url("/assets/blt8c2d02cd42735ac3/m-guide-icon.png") no-repeat scroll center center rgba(0, 0, 0, 0);
        background-size: contain;}
    
      .m-shortcuts li a.m-contact {
        background: url("/assets/blte4c9f7f37cf09587/m-contact-icon.png") no-repeat scroll center center rgba(0, 0, 0, 0);
        background-size: contain;}
      
</style><script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script><script type="text/javascript" src="/static/js/nav-v5.js"></script><script type="text/javascript">
  $(document).ready( function(){
    $('.navbar-toggle').on('click', function(){
      $('.mobile-navigation, .menu-open').hide();
      $('.navigation-wrapper').addClass('mobile-navigation');
      $('.navbar').addClass('menu-open');
      $('.menu-close').show();
    });
    $('.menu-close').on('click', function(){
      $('.navigation-wrapper').removeClass('mobile-navigation');
      $('.navbar').removeClass('menu-open');
      $('.menu-close').hide();
      console.log("close");
    });

    // $(".mobile-inner-header-icon").click(function(){
    //   $(this).toggleClass("mobile-inner-header-icon-click mobile-inner-header-icon-out");
    //   $(".mobile-inner-nav").slideToggle(250);
    //   $(".navigation-wrapper").toggleClass('mobile-menu');
    //   if ($('.mobile-inner-header-icon-click').is(":visible")) {
    //     $('.menu-m').css({'display':"none"});
    //   }else{
    //     $('.menu-m').css({'display':"table-cell"});
    //   }
    // });
    // $(".mobile-inner-nav a").each(function( index ) {
    //   $( this ).css({'animation-delay': (index/10)+'s'});
    //   // $(".navigation-wrapper").removeClass('mobile-menu');
    // });
  });
</script><div class="tertiary-nav"><div class="container"><div class="p-t-b-13 bdr-btm-e7e7e7 clearfix"><div class="breadcrum-wrapper pull-left text-left"> <a href="/learn">Learn</a> <span>Docs</span></div></div></div></div><div class="nav-mobile-dropdown hidden-sm hidden-md hidden-lg clearfix"><div class="container"><div class="breadcrum-wrapper pull-left text-left"> <a class="dropdown-btn" href="javascript:void(0)">Docs</a></div></div></div><div class="main-container"><section id="content"><div class="content-wrapper">
            <div id="pageheader">
    <div class="container">
        <header>
            <h1><a href="/learn" title="Learn">Learn</a> |</h1>
            <h2><a href="/guide" title="Docs">Docs</a></h2>
        </header>
    </div>
</div>
<section id="guide">

            <!-- start body -->
<div class="page_header"><b>PLEASE NOTE:</b>
<br/>
This page is for an as yet unreleased version of the software. Check out the <a href="../current/index.html">latest
version&#39;s documentation here</a>.
</div><div class="breadcrumbs"><span class="breadcrumb-link"><a href="index.html">Elasticsearch Reference
      [master]
    </a></span> » <span class="breadcrumb-link"><a href="breaking-changes.html">Breaking changes </a></span> » <span class="breadcrumb-link"><a href="breaking-changes-5.0.html">Breaking changes in 5.0</a></span> » <span class="breadcrumb-node">Java API changes</span></div><div class="navheader"><span class="prev"><a href="breaking_50_cat_api.html">
              « 
              CAT API changes</a>
           
        </span><span class="next">
           
          <a href="_clusterstatsresponse.html">ClusterStatsResponse
               »
            </a></span></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="breaking_50_java_api_changes"></a>Java API changes<a href="https://github.com/elastic/elasticsearch/edit/master/docs/reference/migration/migrate_5_0/java.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h2></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_count_api_has_been_removed"></a>Count api has been removed<a href="https://github.com/elastic/elasticsearch/edit/master/docs/reference/migration/migrate_5_0/java.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p>The deprecated count api has been removed from the Java api, use the search api instead and set size to 0.</p><p>The following call</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-java">client.prepareCount(indices).setQuery(query).get();</pre></div><p>can be replaced with</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-java">client.prepareSearch(indices).setSource(new SearchSourceBuilder().size(0).query(query)).get();</pre></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_suggest_api_has_been_removed"></a>Suggest api has been removed<a href="https://github.com/elastic/elasticsearch/edit/master/docs/reference/migration/migrate_5_0/java.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p>The suggest api has been removed from the Java api, use the suggest option in search api, it has been optimized
for suggest-only request.</p><p>The following call</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-java">client.prepareSuggest(indices).addSuggestion("foo", SuggestBuilders.completionSuggestion("field").text("s")).get();</pre></div><p>can be replaced with</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-java">client.prepareSearch(indices).suggest(new SuggestBuilder().addSuggestion("foo", SuggestBuilders.completionSuggestion("field").text("s"))).get();</pre></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_elasticsearch_will_no_longer_detect_logging_implementations"></a>Elasticsearch will no longer detect logging implementations<a href="https://github.com/elastic/elasticsearch/edit/master/docs/reference/migration/migrate_5_0/java.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p>Elasticsearch now logs only to log4j 1.2. Previously if log4j wasn’t on the
classpath it made some effort to degrade to slf4j or java.util.logging. Now it
will fail to work without the log4j 1.2 api. The log4j-over-slf4j bridge ought
to work when using the java client, as should log4j 2’s log4j-1.2-api. The
Elasticsearch server now only supports log4j as configured by <code class="literal">logging.yml</code>
and will fail if log4j isn’t present.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_groovy_dependencies"></a>Groovy dependencies<a href="https://github.com/elastic/elasticsearch/edit/master/docs/reference/migration/migrate_5_0/java.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p>In previous versions of Elasticsearch, the Groovy scripting capabilities
depended on the <code class="literal">org.codehaus.groovy:groovy-all</code> artifact.  In addition
to pulling in the Groovy language, this pulls in a very large set of
functionality, none of which is needed for scripting within
Elasticsearch. Aside from the inherent difficulties in managing such a
large set of dependencies, this also increases the surface area for
security issues. This dependency has been reduced to the core Groovy
language <code class="literal">org.codehaus.groovy:groovy</code> artifact.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_documentalreadyexistsexception_removed"></a>DocumentAlreadyExistsException removed<a href="https://github.com/elastic/elasticsearch/edit/master/docs/reference/migration/migrate_5_0/java.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p><code class="literal">DocumentAlreadyExistsException</code> is removed and a <code class="literal">VersionConflictException</code> is thrown instead (with a better
error description). This will influence code that use the <code class="literal">IndexRequest.opType()</code> or <code class="literal">IndexRequest.create()</code>
to index a document only if it doesn’t already exist.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_changes_to_query_builders"></a>Changes to Query Builders<a href="https://github.com/elastic/elasticsearch/edit/master/docs/reference/migration/migrate_5_0/java.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_boostingquerybuilder"></a>BoostingQueryBuilder<a href="https://github.com/elastic/elasticsearch/edit/master/docs/reference/migration/migrate_5_0/java.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4></div></div></div><p>Removed setters for mandatory positive/negative query. Both arguments now have
to be supplied at construction time already and have to be non-null.</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_spancontainingquerybuilder"></a>SpanContainingQueryBuilder<a href="https://github.com/elastic/elasticsearch/edit/master/docs/reference/migration/migrate_5_0/java.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4></div></div></div><p>Removed setters for mandatory big/little inner span queries. Both arguments now have
to be supplied at construction time already and have to be non-null. Updated
static factory methods in QueryBuilders accordingly.</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_spanorquerybuilder"></a>SpanOrQueryBuilder<a href="https://github.com/elastic/elasticsearch/edit/master/docs/reference/migration/migrate_5_0/java.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4></div></div></div><p>Making sure that query contains at least one clause by making initial clause mandatory
in constructor.
Renaming method to add clauses from <code class="literal">clause(SpanQueryBuilder)</code> to <code class="literal">addClause(SpanQueryBuilder)</code>.</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_spannearquerybuilder"></a>SpanNearQueryBuilder<a href="https://github.com/elastic/elasticsearch/edit/master/docs/reference/migration/migrate_5_0/java.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4></div></div></div><p>Removed setter for mandatory slop parameter, needs to be set in constructor now. Also
making sure that query contains at least one clause by making initial clause mandatory
in constructor. Updated the static factory methods in QueryBuilders accordingly.
Renaming method to add clauses from <code class="literal">clause(SpanQueryBuilder)</code> to <code class="literal">addClause(SpanQueryBuilder)</code>.</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_spannotquerybuilder"></a>SpanNotQueryBuilder<a href="https://github.com/elastic/elasticsearch/edit/master/docs/reference/migration/migrate_5_0/java.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4></div></div></div><p>Removed setter for mandatory include/exclude span query clause, needs to be set in constructor now.
Updated the static factory methods in QueryBuilders and tests accordingly.</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_spanwithinquerybuilder"></a>SpanWithinQueryBuilder<a href="https://github.com/elastic/elasticsearch/edit/master/docs/reference/migration/migrate_5_0/java.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4></div></div></div><p>Removed setters for mandatory big/little inner span queries. Both arguments now have
to be supplied at construction time already and have to be non-null. Updated
static factory methods in QueryBuilders accordingly.</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_wrapperquerybuilder"></a>WrapperQueryBuilder<a href="https://github.com/elastic/elasticsearch/edit/master/docs/reference/migration/migrate_5_0/java.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4></div></div></div><p>Removed <code class="literal">wrapperQueryBuilder(byte[] source, int offset, int length)</code>. Instead simply
use  <code class="literal">wrapperQueryBuilder(byte[] source)</code>. Updated the static factory methods in
QueryBuilders accordingly.</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_querystringquerybuilder"></a>QueryStringQueryBuilder<a href="https://github.com/elastic/elasticsearch/edit/master/docs/reference/migration/migrate_5_0/java.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4></div></div></div><p>Removed ability to pass in boost value using <code class="literal">field(String field)</code> method in form e.g. <code class="literal">field^2</code>.
Use the <code class="literal">field(String, float)</code> method instead.</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_operator"></a>Operator<a href="https://github.com/elastic/elasticsearch/edit/master/docs/reference/migration/migrate_5_0/java.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4></div></div></div><p>Removed the enums called <code class="literal">Operator</code> from <code class="literal">MatchQueryBuilder</code>, <code class="literal">QueryStringQueryBuilder</code>,
<code class="literal">SimpleQueryStringBuilder</code>, and <code class="literal">CommonTermsQueryBuilder</code> in favour of using the enum
defined in <code class="literal">org.elasticsearch.index.query.Operator</code> in an effort to consolidate the
codebase and avoid duplication.</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_queryname_and_boost_support"></a>queryName and boost support<a href="https://github.com/elastic/elasticsearch/edit/master/docs/reference/migration/migrate_5_0/java.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4></div></div></div><p>Support for <code class="literal">queryName</code> and <code class="literal">boost</code> has been streamlined to all of the queries. That is
a breaking change till queries get sent over the network as serialized json rather
than in <code class="literal">Streamable</code> format. In fact whenever additional fields are added to the json
representation of the query, older nodes might throw error when they find unknown fields.</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_innerhitsbuilder"></a>InnerHitsBuilder<a href="https://github.com/elastic/elasticsearch/edit/master/docs/reference/migration/migrate_5_0/java.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4></div></div></div><p>InnerHitsBuilder now has a dedicated addParentChildInnerHits and addNestedInnerHits methods
to differentiate between inner hits for nested vs. parent / child documents. This change
makes the type / path parameter mandatory.</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_matchquerybuilder"></a>MatchQueryBuilder<a href="https://github.com/elastic/elasticsearch/edit/master/docs/reference/migration/migrate_5_0/java.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4></div></div></div><p>Moving MatchQueryBuilder.Type and MatchQueryBuilder.ZeroTermsQuery enum to MatchQuery.Type.
Also reusing new Operator enum.</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_morelikethisquerybuilder"></a>MoreLikeThisQueryBuilder<a href="https://github.com/elastic/elasticsearch/edit/master/docs/reference/migration/migrate_5_0/java.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4></div></div></div><p>Removed <code class="literal">MoreLikeThisQueryBuilder.Item#id(String id)</code>, <code class="literal">Item#doc(BytesReference doc)</code>,
<code class="literal">Item#doc(XContentBuilder doc)</code>. Use provided constructors instead.</p><p>Removed <code class="literal">MoreLikeThisQueryBuilder#addLike</code> in favor of texts and/or items being provided
at construction time. Using arrays there instead of lists now.</p><p>Removed <code class="literal">MoreLikeThisQueryBuilder#addUnlike</code> in favor to using the <code class="literal">unlike</code> methods
which take arrays as arguments now rather than the lists used before.</p><p>The deprecated <code class="literal">docs(Item... docs)</code>, <code class="literal">ignoreLike(Item... docs)</code>,
<code class="literal">ignoreLike(String... likeText)</code>, <code class="literal">addItem(Item... likeItems)</code> have been removed.</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_geodistancequerybuilder"></a>GeoDistanceQueryBuilder<a href="https://github.com/elastic/elasticsearch/edit/master/docs/reference/migration/migrate_5_0/java.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4></div></div></div><p>Removing individual setters for lon() and lat() values, both values should be set together
 using point(lon, lat).</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_geodistancerangequerybuilder"></a>GeoDistanceRangeQueryBuilder<a href="https://github.com/elastic/elasticsearch/edit/master/docs/reference/migration/migrate_5_0/java.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4></div></div></div><p>Removing setters for to(Object …) and from(Object …) in favour of the only two allowed input
arguments (String, Number). Removing setter for center point (point(), geohash()) because parameter
is mandatory and should already be set in constructor.
Also removing setters for lt(), lte(), gt(), gte() since they can all be replaced by equivalent
calls to to/from() and inludeLower()/includeUpper().</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_geopolygonquerybuilder"></a>GeoPolygonQueryBuilder<a href="https://github.com/elastic/elasticsearch/edit/master/docs/reference/migration/migrate_5_0/java.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4></div></div></div><p>Require shell of polygon already to be specified in constructor instead of adding it pointwise.
This enables validation, but makes it necessary to remove the addPoint() methods.</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_multimatchquerybuilder"></a>MultiMatchQueryBuilder<a href="https://github.com/elastic/elasticsearch/edit/master/docs/reference/migration/migrate_5_0/java.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4></div></div></div><p>Moving MultiMatchQueryBuilder.ZeroTermsQuery enum to MatchQuery.ZeroTermsQuery.
Also reusing new Operator enum.</p><p>Removed ability to pass in boost value using <code class="literal">field(String field)</code> method in form e.g. <code class="literal">field^2</code>.
Use the <code class="literal">field(String, float)</code> method instead.</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_missingquerybuilder"></a>MissingQueryBuilder<a href="https://github.com/elastic/elasticsearch/edit/master/docs/reference/migration/migrate_5_0/java.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4></div></div></div><p>The MissingQueryBuilder which was deprecated in 2.2.0 is removed. As a replacement use ExistsQueryBuilder
inside a mustNot() clause. So instead of using <code class="literal">new ExistsQueryBuilder(name)</code> now use
<code class="literal">new BoolQueryBuilder().mustNot(new ExistsQueryBuilder(name))</code>.</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_notquerybuilder"></a>NotQueryBuilder<a href="https://github.com/elastic/elasticsearch/edit/master/docs/reference/migration/migrate_5_0/java.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4></div></div></div><p>The NotQueryBuilder which was deprecated in 2.1.0 is removed. As a replacement use BoolQueryBuilder
with added mustNot() clause. So instead of using <code class="literal">new NotQueryBuilder(filter)</code> now use
<code class="literal">new BoolQueryBuilder().mustNot(filter)</code>.</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_termsquerybuilder"></a>TermsQueryBuilder<a href="https://github.com/elastic/elasticsearch/edit/master/docs/reference/migration/migrate_5_0/java.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4></div></div></div><p>Remove the setter for <code class="literal">termsLookup()</code>, making it only possible to either use a TermsLookup object or
individual values at construction time. Also moving individual settings for the TermsLookup (lookupIndex,
lookupType, lookupId, lookupPath) to the separate TermsLookup class, using constructor only and moving
checks for validation there. Removed <code class="literal">TermsLookupQueryBuilder</code> in favour of <code class="literal">TermsQueryBuilder</code>.</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_functionscorequerybuilder"></a>FunctionScoreQueryBuilder<a href="https://github.com/elastic/elasticsearch/edit/master/docs/reference/migration/migrate_5_0/java.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4></div></div></div><p><code class="literal">add</code> methods have been removed, all filters and functions must be provided as constructor arguments by
creating an array of <code class="literal">FunctionScoreQueryBuilder.FilterFunctionBuilder</code> objects, containing one element
for each filter/function pair.</p><p><code class="literal">scoreMode</code> and <code class="literal">boostMode</code> can only be provided using corresponding enum members instead
of string values: see <code class="literal">FilterFunctionScoreQuery.ScoreMode</code> and <code class="literal">CombineFunction</code>.</p><p><code class="literal">CombineFunction.MULT</code> has been renamed to <code class="literal">MULTIPLY</code>.</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_idsquerybuilder"></a>IdsQueryBuilder<a href="https://github.com/elastic/elasticsearch/edit/master/docs/reference/migration/migrate_5_0/java.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4></div></div></div><p>For simplicity, only one way of adding the ids to the existing list (empty by default)  is left: <code class="literal">addIds(String...)</code></p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_shapebuilders"></a>ShapeBuilders<a href="https://github.com/elastic/elasticsearch/edit/master/docs/reference/migration/migrate_5_0/java.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4></div></div></div><p><code class="literal">InternalLineStringBuilder</code> is removed in favour of <code class="literal">LineStringBuilder</code>, <code class="literal">InternalPolygonBuilder</code> in favour of PolygonBuilder` and <code class="literal">Ring</code> has been replaced with <code class="literal">LineStringBuilder</code>. Also the abstract base classes <code class="literal">BaseLineStringBuilder</code> and <code class="literal">BasePolygonBuilder</code> haven been merged with their corresponding implementations.</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_rescorebuilder"></a>RescoreBuilder<a href="https://github.com/elastic/elasticsearch/edit/master/docs/reference/migration/migrate_5_0/java.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4></div></div></div><p><code class="literal">RecoreBuilder.Rescorer</code> was merged with <code class="literal">RescoreBuilder</code>, which now is an abstract superclass. QueryRescoreBuilder currently is its only implementation.</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_phrasesuggestionbuilder"></a>PhraseSuggestionBuilder<a href="https://github.com/elastic/elasticsearch/edit/master/docs/reference/migration/migrate_5_0/java.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4></div></div></div><p>The inner DirectCandidateGenerator class has been moved out to its own class called DirectCandidateGeneratorBuilder.</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_sortbuilders"></a>SortBuilders<a href="https://github.com/elastic/elasticsearch/edit/master/docs/reference/migration/migrate_5_0/java.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4></div></div></div><p>The <code class="literal">sortMode</code> setter in <code class="literal">FieldSortBuilder</code>, <code class="literal">GeoDistanceSortBuilder</code> and <code class="literal">ScriptSortBuilder</code> now
accept a <code class="literal">SortMode</code> enum instead of a String constant. Also the getter returns the same enum type.</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_suggestbuilder"></a>SuggestBuilder<a href="https://github.com/elastic/elasticsearch/edit/master/docs/reference/migration/migrate_5_0/java.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4></div></div></div><p>The <code class="literal">setText</code> method has been changed to <code class="literal">setGlobalText</code> to make the intent more clear, and a <code class="literal">getGlobalText</code> method has been added.</p><p>The <code class="literal">addSuggestion</code> method now required the user specified suggestion name, previously used in the ctor of each suggestion.</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_suggestionbuilder"></a>SuggestionBuilder<a href="https://github.com/elastic/elasticsearch/edit/master/docs/reference/migration/migrate_5_0/java.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4></div></div></div><p>The <code class="literal">field</code> setter has been deleted. Instead the field name needs to be specified as constructor argument.</p></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_searchsourcebuilder"></a>SearchSourceBuilder<a href="https://github.com/elastic/elasticsearch/edit/master/docs/reference/migration/migrate_5_0/java.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p>All methods which take an <code class="literal">XContentBuilder</code>, <code class="literal">BytesReference</code> <code class="literal">Map&lt;String, Object&gt;</code> or <code class="literal">bytes[]</code> have been removed in favor of providing the
relevant builder object for that feature (e.g. <code class="literal">HighlightBuilder</code>, <code class="literal">AggregationBuilder</code>, <code class="literal">SuggestBuilder</code>) . This means that all search requests
can now be validated at call time which results in much clearer errors.</p><p>The <code class="literal">defaultResourceWindowSize(int)</code> method has been removed. The window size should be set explicitly on all <code class="literal">RescoreBuilder</code> objects.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_searchrequestbuilder"></a>SearchRequestBuilder<a href="https://github.com/elastic/elasticsearch/edit/master/docs/reference/migration/migrate_5_0/java.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p>All methods which take an <code class="literal">XContentBuilder</code>, <code class="literal">BytesReference</code> <code class="literal">Map&lt;String, Object&gt;</code> or <code class="literal">bytes[]</code> have been removed in favor of providing the
relevant builder object for that feature (e.g. <code class="literal">HighlightBuilder</code>, <code class="literal">AggregationBuilder</code>, <code class="literal">SuggestBuilder</code>) . This means that all search requests
can now be validated at call time which results in much clearer errors.</p><p>All highlighter methods have been removed in favor of a single <code class="literal">highlighter(HighlightBuilder)</code> method.</p><p>The <code class="literal">setExtraSource(SearchSourceBuilder)</code> method has been removed.</p><p>The <code class="literal">setTemplateSource(String)</code> and <code class="literal">setTemplateSource(BytesReference)</code> methods have been removed. Use <code class="literal">setTemplate(Template)</code> instead.</p><p><code class="literal">setRescorer(Rescorer)</code> and <code class="literal">setRescorer(Rescorer, int)</code> have been removed infavor of <code class="literal">setRescorer(RescoreBuilder)</code> and <code class="literal">setRescorer(RescoreBuilder, int)</code></p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_searchrequest"></a>SearchRequest<a href="https://github.com/elastic/elasticsearch/edit/master/docs/reference/migration/migrate_5_0/java.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p>All <code class="literal">template</code> methods have been removed in favor of a single <code class="literal">template(Template)</code> method.</p><p>All <code class="literal">source</code> methods have been removed in favor of a single <code class="literal">source(SearchSourceBuilder)</code> method. This means that all search requests can now be validated
at call time which results in much clearer errors.</p><p>All <code class="literal">extraSource</code> methods have been removed.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_searchresponse"></a>SearchResponse<a href="https://github.com/elastic/elasticsearch/edit/master/docs/reference/migration/migrate_5_0/java.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p>Sort values for <code class="literal">string</code> fields are now return as <code class="literal">java.lang.String</code> objects rather than <code class="literal">org.elasticsearch.common.text.Text</code>.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_aggregationbuilder"></a>AggregationBuilder<a href="https://github.com/elastic/elasticsearch/edit/master/docs/reference/migration/migrate_5_0/java.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p>All methods which take an <code class="literal">XContentBuilder</code>, <code class="literal">BytesReference</code> <code class="literal">Map&lt;String, Object&gt;</code> or <code class="literal">bytes[]</code> have been removed in favor of providing the
relevant builder object (i.e. <code class="literal">subAggregation(AggregationBuilder)</code> or <code class="literal">subAggregation(PipelineAggregationBuilder)</code>). This means that all
requests can now be validated at call time which results in much clearer errors.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_validatequeryrequest"></a>ValidateQueryRequest<a href="https://github.com/elastic/elasticsearch/edit/master/docs/reference/migration/migrate_5_0/java.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p><code class="literal">source(QuerySourceBuilder)</code>, <code class="literal">source(Map)</code>, <code class="literal">source(XContentBuilder)</code>, <code class="literal">source(String)</code>, <code class="literal">source(byte[])</code>, <code class="literal">source(byte[], int, int)</code>,
<code class="literal">source(BytesReference)</code> and <code class="literal">source()</code> have been removed in favor of using <code class="literal">query(QueryBuilder)</code> and <code class="literal">query()</code></p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_validatequeryrequestbuilder"></a>ValidateQueryRequestBuilder<a href="https://github.com/elastic/elasticsearch/edit/master/docs/reference/migration/migrate_5_0/java.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p><code class="literal">setSource()</code> methods have been removed in favor of using <code class="literal">setQuery(QueryBuilder)</code></p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_explainrequest"></a>ExplainRequest<a href="https://github.com/elastic/elasticsearch/edit/master/docs/reference/migration/migrate_5_0/java.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p><code class="literal">source(QuerySourceBuilder)</code>, <code class="literal">source(Map)</code>, <code class="literal">source(BytesReference)</code> and <code class="literal">source()</code> have been removed in favor of using
<code class="literal">query(QueryBuilder)</code> and <code class="literal">query()</code></p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_explainrequestbuilder"></a>ExplainRequestBuilder<a href="https://github.com/elastic/elasticsearch/edit/master/docs/reference/migration/migrate_5_0/java.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p>The <code class="literal">setQuery(BytesReference)</code> method have been removed in favor of using <code class="literal">setQuery(QueryBuilder)</code></p></div></div><div class="navfooter"><span class="prev"><a href="breaking_50_cat_api.html">
              « 
              CAT API changes</a>
           
        </span><span class="next">
           
          <a href="_clusterstatsresponse.html">ClusterStatsResponse
               »
            </a></span></div>
<!-- end body -->

            </section>

            <div id="rtpcontainer"
         class="col-xs-12 col-sm-4 col-md-4"><h3>Top Videos</h3><ul><li><a href="https://www.elastic.co/webinars/elasticsearch-2-0-overview?baymax=default&elektra=docs&storm=top-video">Getting Started</a></li><li><a href="http://www.elastic.co/webinars/elasticsearch-performance-optimization-tale-two-tickets/?elektra=docs">Scaling</a></li><li><a href="http://www.elastic.co/webinars/shield-securing-your-data-in-elasticsearch/?elektra=docs">Security</a></li></ul><hr/></div></div></div></section></div><script src="//app-lon02.marketo.com/js/forms2/js/forms2.min.js"></script><div class="subscribe-wrapper"><div class="container text-left"><div class="subscribe-title"><h5>Be in the know with the latest and greatest from Elastic.</h5></div><div class="subscribe-form"><form id="mktoForm_1398" class="mktoForm sb-form"></form><div class="form_thanks hide"><p>Thanks for subscribing! We'll keep you updated with new releases.</p></div></div></div></div><footer class="footer-wrapper"><div class="container"><div class="row footer-content"><div class="col-xs-6 col-sm-3 col-md-3"><h3><a href="/products">Products</a></h3><ul><li><a href="/products/elasticsearch">Elasticsearch</a></li><li><a href="/products/kibana">Kibana</a></li><li><a href="/products/logstash">Logstash</a></li><li><a href="/products/beats">Beats</a></li><li><a href="/cloud">Elastic Cloud</a></li><li><a href="/products/shield">Shield (Security)</a></li><li><a href="/products/watcher">Watcher (Alerting)</a></li><li><a href="/products/marvel">Marvel (Monitoring)</a></li><li><a href="/products/graph">Graph</a></li><li><a href="/products/reporting">Reporting</a></li><li><a href="/products/hadoop">ES-Hadoop</a></li></ul></div><div class="col-xs-6 col-sm-3 col-md-3"><h3>Resources</h3><ul><li><a href="/blog">Blog</a></li><li><a href="/community">Community</a></li><li><a href="/use-cases">Customers & Use Cases</a></li><li><a href="/guide">Documentation</a></li><li><a href="/elasticon">Elastic{ON} Events</a></li><li><a href="https://discuss.elastic.co/">Forums</a></li><li><a href="/community/meetups">Meetups</a></li><li><a href="https://support.elastic.co">Support Portal/Login</a></li><li><a href="/videos">Videos & Webinars</a></li><li><a href="/training">Training</a></li></ul></div><div class="col-xs-6 col-sm-3 col-md-3"><h3><a href="/about">About</a></h3><ul><li><a href="/about/careers">Careers</a></li><li><a href="/contact">Contact</a></li><li><a href="/about/leadership">Leadership</a></li><li><a href="/about/partners">Partners</a></li><li><a href="/about/press">Press</a></li></ul></div><div class="col-xs-6 col-sm-3 col-md-3"><h3>Language</h3><ul><li><a href="/">English</a></li><li><a href="/fr">French</a></li><li><a href="/de">German</a></li><li><a href="/jp">Japanese</a></li><li><a href="/kr">Korean</a></li></ul></div></div><div class="row social-icon"><div class="col-xs-12 col-sm-12 col-md-12"><ul><li class="facebook"><a target="_blank" id="footer_facebook" href="http://www.facebook.com/elastic.co" target="_blank"></a></li><li class="twitter"><a target="_blank" id="footer_twitter" href="https://www.twitter.com/elastic" target="_blank"></a></li><li class="linkedin"><a target="_blank" id="footer_linkedin" href="https://www.linkedin.com/company/elastic-co" target="_blank"></a></li><li class="xing"><a target="_blank" id="footer_xing" href="https://www.xing.com/companies/elastic.co" target="_blank"></a></li><li class="youtube"><a target="_blank" id="footer_youtube" href="https://www.youtube.com/user/elasticsearch" target="_blank"></a></li></ul></div></div><div class="row"><div class="col-xs-12 col-sm-12 col-md-12"><div class="copyright"><ul><li><a href="/legal/trademarks">Trademarks</a></li><li><a href="" legal="" terms-of-use"="">Terms of Use</a></li><li><a href="" legal="" privacy-policy"="">Privacy</a></li><li><a href="" legal="" privacy-and-cookie-policy"="">Cookie Policy</a></li><li><a href="/brand">Brand</a></li></ul><div class="copyright-content"><div class="footer-logo"><a href="#"><img src="/static/images/elastic-logo-H-full color.png" class="img-responsive"></a></div><div class="footer-text"><p>© 2016. All Rights Reserved - Elasticsearch</p><p>Elasticsearch is a trademark of Elasticsearch BV, registered in the U.S. and in other countries</p><p>Apache, Apache Lucene, Apache Hadoop, Hadoop, HDFS and the yellow elephant logo are trademarks of the <a href="http://www.apache.org/" target="_blank">Apache Software Foundation</a> in the United States and/or other countries.</p></div></div></div></div></div></div></footer><style type="text/css">
		
			.facebook{background:url("/assets/bltf66b1b8a624e81b2/facebook.svg") no-repeat;}		
		
			.twitter{background:url("/assets/blt0c27fbeba1f2b85b/twitter.svg") no-repeat;}		
		
			.linkedin{background:url("/assets/blt7890ae949fd3873f/linkedin.svg") no-repeat;}		
		
			.xing{background:url("/assets/blt0d0981773de2643c/xing.svg") no-repeat;}		
		
			.youtube{background:url("/assets/blt891f87ea1aa18977/youtube.svg") no-repeat;}		
		
	</style><script>
MktoForms2.loadForm("//app-lon02.marketo.com", "813-MAM-392", 1398,function(form){
  form.onSuccess(function(form){
    $('#mktoForm_1398').css('display','none');
    $('#subscribe-newsletter header').hide();
    $('#mktoForm_1398').siblings('.form_thanks').removeClass('hide')
    dataLayer.push({'event': 'mktoFormSubmit'});
      return false;
    });
});
</script><script src="/static/js/jquery.min.js"></script><script src="/static/js/bootstrap.min.js"></script><script src="/static/js/jquery.autocomplete.js"></script><script src="/static/js/script.js"></script></section></div><script type="text/javascript">
	var suggestionsUrl = "https://search.elastic.co/suggest";	
</script><script src="/static/js/jquery.cookie.js"></script><style></style><script type="text/javascript">
       $(document).ready(function(){
        $('.dropdown-btn').on('click', function(){
          myFunction();
        });
         function myFunction() {
            // document.getElementById("myDropdown").classList.toggle("show");
            $('#myDropdown').toggleClass('show');
        }

        // Close the dropdown menu if the user clicks outside of it
        $('body').on('click', function(event){
          if (!event.target.matches('.dropdown-btn')) {

            var dropdowns = $(".dropdown-content");
            var i;
            for (i = 0; i < dropdowns.length; i++) {
              var openDropdown = dropdowns[i];
              if (openDropdown.classList.contains('show')) {
                openDropdown.classList.remove('show');
              }
            }
          }
        });
       });
     </script>
            <script type="text/javascript" src="docs.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
<script type='text/javascript' src='https://google-code-prettify.googlecode.com/svn/loader/run_prettify.js'></script>

            </body>
        