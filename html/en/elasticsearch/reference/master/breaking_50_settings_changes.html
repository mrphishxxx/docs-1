<!DOCTYPE html><html lang="en"><head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Settings changes
        | Elasticsearch Reference [master]
      | Elastic
    </title><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Elasticsearch Reference [master]" /><link rel="up" href="breaking-changes-5.0.html" title="Breaking changes in 5.0" /><link rel="prev" href="breaking_50_document_api_changes.html" title="Document API changes" /><link rel="next" href="_script_settings.html" title="Script settings" /><meta name="DC.type" content="Docs/Elasticsearch/Reference/master" /><meta http-equiv="content-type" content="text/html; charset=utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png?change=123"><link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png?change=123"><link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png?change=123"><link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png?change=123"><link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png?change=123"><link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png?change=123"><link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png?change=123"><link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png?change=123"><link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png?change=123"><link rel="icon" type="image/png" sizes="192x192" href="/android-icon-192x192.png?change=123"><link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png?change=123"><link rel="icon" type="image/png" sizes="96x96" href="/favicon-96x96.png?change=123"><link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png?change=123"><link rel="manifest" href="/manifest.json"><meta name="msapplication-TileColor" content="#ffffff"><meta name="msapplication-TileImage" content="/ms-icon-144x144.png"><meta name="theme-color" content="#ffffff"><link rel="schema.DC" href="http://purl.org/dc/elements/1.1/"><link rel="schema.DCTERMS" href="http://purl.org/dc/terms/"><meta name="description" content=""/><meta property="og:image" content="/static/img/cluster-small.png"/><link rel="shortcut icon" href="favicon.ico" type="image/x-icon"><link rel="icon" href="favicon.ico?change=123" type="image/x-icon"><link rel="apple-touch-icon-precomposed" sizes="64x64" href="favicon_64x64_16bit.png"><link rel="apple-touch-icon-precomposed" sizes="32x32" href="favicon_32x32.png"><link rel="apple-touch-icon-precomposed" sizes="16x16" href="favicon_16x16.png"><link href="/static/css/main.css" rel="stylesheet"> <!--[if lt IE 9]><script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script><script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script><![endif]--><link type="text/css" rel="stylesheet" href="/static/css/prettify.css"/><link type="text/css" rel="stylesheet" href="/static/css/guide.css"/><script type="text/javascript" src="/static/js/prettify.js"></script>
<link rel="stylesheet" type="text/css" href="styles.css" />

</head><body><script>dataLayer = [];</script><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-58RLH5" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
			new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
			j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
			'//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
	})(window,document,'script','dataLayer','GTM-58RLH5');</script><header class="header-wrapper"><div class="navigation-wrapper"><div class="container"><nav class="navbar"><div class="navbar-mobile-header navbar-header mr-20 mr-xs-0"><div class="row hidden-sm hidden-md hidden-lg"><div class="col-xs-5 hidden-sm hidden-md hidden-lg"><div class="navbar-mobile-header-icon navbar-mobile-header-icon-out"><span></span><span></span><span></span></div> <a href="/learn" class="nav-title hidden-sm hidden-md hidden-lg m-l-10">Learn</a></div><div class="col-xs-2 text-center"><div class="navbar-brand" id="elastic"><h1> <a class="logo-m hidden-sm hidden-md hidden-lg" href="/"><img src="/assets/blt65c71c1236219a27/elastic-logo-mobile.svg" alt="elastic-logo-mobile"></a></h1></div></div><div class="col-xs-5 hidden-sm hidden-md hidden-lg text-right"><ul class="menu-m hidden-sm hidden-md hidden-lg"><li class=""><a class="icon-contact" href="/contact"></a></li><li id="searchbar"><a class="button icon" href="#"></a></li><li class="lang global-language"><a href="#">EN</a><ul class="language-list"><li><a href="/">English</a></li><li><a href="/fr/">français</a></li><li><a href="/de/">Deutsche</a></li><li><a href="/jp/">日本語</a></li><li><a href="/kr/">한국어</a></li></ul></li></ul></div></div><div class="navbar-brand hidden-xs" id="elastic"><h1> <a class="hidden-xs" id="elastic-logo" href="/"><img src="/assets/blt49aa5273c3bf983b/elastic-logo.svg" alt="elastic-logo"></a></h1></div></div><div class="collapse navbar-collapse mobile-inner-nav"><nav class="nav navbar-nav primary-nav-hover" id="nav"><ul><li> <a id="nav_products" class="  nav-item" href="/products">Products</a><div class="text-center quaternary-nav hidden-xs hover-nav"><div class="container"><div class="p-t-b-5"><ul class="list-inline nav-group"><li> <a href="/products/elasticsearch">Elasticsearch</a></li><li> <a href="/cloud">Elasticsearch as a Service</a></li><li> <a href="/products/logstash">Logstash</a></li><li> <a href="/products/kibana">Kibana</a></li><li> <a href="/products/beats">Beats</a></li><li> <a href="/products/watcher">Watcher</a></li><li> <a href="/products/shield">Shield</a></li><li> <a href="/products/marvel">Marvel</a></li><li> <a href="/products/graph">Graph</a></li><li> <a href="/products/reporting">Reporting</a></li><li> <a href="/products/hadoop">Hadoop</a></li></ul></div></div></div><ul class="hidden-sm hidden-md hidden-lg sub-navigation"><li><a id="nav_elasticsearch" href="/products/elasticsearch">Elasticsearch</a></li><li><a id="nav_elasticsearch as a service" href="/cloud">Elasticsearch as a Service</a></li><li><a id="nav_logstash" href="/products/logstash">Logstash</a></li><li><a id="nav_kibana" href="/products/kibana">Kibana</a></li><li><a id="nav_beats" href="/products/beats">Beats</a></li><li><a id="nav_watcher" href="/products/watcher">Watcher</a></li><li><a id="nav_shield" href="/products/shield">Shield</a></li><li><a id="nav_marvel" href="/products/marvel">Marvel</a></li><li><a id="nav_graph" href="/products/graph">Graph</a></li><li><a id="nav_reporting" href="/products/reporting">Reporting</a></li><li><a id="nav_hadoop" href="/products/hadoop">Hadoop</a></li></ul></li><li> <a id="nav_cloud" class="  nav-item" href="/cloud">Cloud</a><div class="text-center quaternary-nav hidden-xs hover-nav"><div class="container"><div class="p-t-b-5"><ul class="list-inline nav-group"><li> <a href="/cloud/subscriptions">Subscriptions</a></li><li> <a href="/cloud/pricing">Pricing</a></li><li> <a href="/cloud/support">Support</a></li></ul></div></div></div><ul class="hidden-sm hidden-md hidden-lg sub-navigation"><li><a id="nav_subscriptions" href="/cloud/subscriptions">Subscriptions</a></li><li><a id="nav_pricing" href="/cloud/pricing">Pricing</a></li><li><a id="nav_support" href="/cloud/support">Support</a></li></ul></li><li> <a id="nav_services" class="  nav-item" href="/services">Services</a></li><li> <a id="nav_customers" class="  nav-item" href="/use-cases">Customers</a></li><li> <a id="nav_learn" class="active nav-item" href="/learn">Learn</a><div class="text-center quaternary-nav hidden-xs hover-nav"><div class="container"><div class="p-t-b-5"><ul class="list-inline nav-group"><li> <a href="/community">Community</a></li><li> <a href="/guide">Docs</a></li><li> <a href="/blog">Blog</a></li><li> <a href="/videos">Videos</a></li><li> <a href="https://discuss.elastic.co/">Forums</a></li><li> <a href="/elasticon">Elastic{ON}</a></li></ul></div></div></div><ul class="hidden-sm hidden-md hidden-lg sub-navigation"><li><a id="nav_community" href="/community">Community</a></li><li><a id="nav_docs" href="/guide">Docs</a></li><li><a id="nav_blog" href="/blog">Blog</a></li><li><a id="nav_videos" href="/videos">Videos</a></li><li><a id="nav_forums" href="https://discuss.elastic.co/">Forums</a></li><li><a id="nav_elastic{on}" href="/elasticon">Elastic{ON}</a></li></ul></li></ul></nav><nav class="nav navbar-nav navbar-right hidden-xs"><ul><li class="hidden-xs hidden-sm"><a href="/downloads">Downloads</a></li><li class="hidden-xs hidden-md hidden-lg"><a class="icon-download" href="/downloads"></a></li><li class="hidden-xs hidden-sm"><a class="btn btn-primary btn-contact" href="/contact">Contact</a></li><li class="hidden-xs hidden-md hidden-lg"><a class="icon-contact" href="/contact"></a></li><li class="hidden-xs" id="searchbar"><a class="button icon" href="#"></a></li><li class="hidden-xs lang global-language"><a href="#">EN</a><ul class="language-list"><li><a class="" href="/">English</a></li><li><a class="" href="/fr/">français</a></li><li><a class="" href="/de/">Deutsche</a></li><li><a class="" href="/jp/">日本語</a></li><li><a class="" href="/kr/">한국어</a></li></ul></li></ul></nav></div></nav></div></div><div class="header-search-wrapper open-search"><div class="container"><div class="big-search"><i class="big-search-icon"></i><form id="searchfrm" name="searchForm" autocomplete="on" action="/search" method="get"><ul class="tags-wrapper"><li class="search-field"><input type="text" name="q" id="autocomplete" class="form-control global-input" autocomplete="off"></li></ul></form><a class="header-search-cancel" href="#"></a></div><div class="nav-auto-complete"></div></div></div><script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script><script>
$(window).load(function () {
  $(".navbar-mobile-header-icon").click(function(index){
    $('.navigation-wrapper').toggleClass('menu-overlay');
    $(this).toggleClass("navbar-mobile-header-icon-click navbar-mobile-header-icon-out");
    $(".mobile-inner-nav").slideToggle(500);
    $('.mobile-inner-nav .sub-navigation').css('display','none');
    $(".mobile-inner-nav a").each(function( index ) {
      $(this).css({'animation-delay': (index/25)+'s'});
    });
  });

  if($(window).width() < 769){
    $(".nav-item").click(function(e){
      e.preventDefault();
      var parent = $(this).parent();
      $('.sub-navigation',parent).slideToggle(250);
    })
  }
});
</script></header><style> 
    
      .m-shortcuts li a.m-search {
        background: url("/assets/blt78ef101d1c58b693/m-search-icon.png") no-repeat scroll center center rgba(0, 0, 0, 0);
        background-size: contain;}
    
      .m-shortcuts li a.m-docs {
        background: url("/assets/blt8c2d02cd42735ac3/m-guide-icon.png") no-repeat scroll center center rgba(0, 0, 0, 0);
        background-size: contain;}
    
      .m-shortcuts li a.m-contact {
        background: url("/assets/blte4c9f7f37cf09587/m-contact-icon.png") no-repeat scroll center center rgba(0, 0, 0, 0);
        background-size: contain;}
      
</style><script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script><script type="text/javascript" src="/static/js/nav-v5.js"></script><script type="text/javascript">
  $(document).ready( function(){
    $('.navbar-toggle').on('click', function(){
      $('.mobile-navigation, .menu-open').hide();
      $('.navigation-wrapper').addClass('mobile-navigation');
      $('.navbar').addClass('menu-open');
      $('.menu-close').show();
    });
    $('.menu-close').on('click', function(){
      $('.navigation-wrapper').removeClass('mobile-navigation');
      $('.navbar').removeClass('menu-open');
      $('.menu-close').hide();
      console.log("close");
    });

    // $(".mobile-inner-header-icon").click(function(){
    //   $(this).toggleClass("mobile-inner-header-icon-click mobile-inner-header-icon-out");
    //   $(".mobile-inner-nav").slideToggle(250);
    //   $(".navigation-wrapper").toggleClass('mobile-menu');
    //   if ($('.mobile-inner-header-icon-click').is(":visible")) {
    //     $('.menu-m').css({'display':"none"});
    //   }else{
    //     $('.menu-m').css({'display':"table-cell"});
    //   }
    // });
    // $(".mobile-inner-nav a").each(function( index ) {
    //   $( this ).css({'animation-delay': (index/10)+'s'});
    //   // $(".navigation-wrapper").removeClass('mobile-menu');
    // });
  });
</script><div class="tertiary-nav"><div class="container"><div class="p-t-b-13 bdr-btm-e7e7e7 clearfix"><div class="breadcrum-wrapper pull-left text-left"> <a href="/learn">Learn</a> <span>Docs</span></div></div></div></div><div class="nav-mobile-dropdown hidden-sm hidden-md hidden-lg clearfix"><div class="container"><div class="breadcrum-wrapper pull-left text-left"> <a class="dropdown-btn" href="javascript:void(0)">Docs</a></div></div></div><div class="main-container"><section id="content"><div class="content-wrapper">
            <div id="pageheader">
    <div class="container">
        <header>
            <h1><a href="/learn" title="Learn">Learn</a> |</h1>
            <h2><a href="/guide" title="Docs">Docs</a></h2>
        </header>
    </div>
</div>
<section id="guide">

            <!-- start body -->
<div class="page_header"><b>PLEASE NOTE:</b>
<br/>
This page is for an as yet unreleased version of the software. Check out the <a href="../current/index.html">latest
version&#39;s documentation here</a>.
</div><div class="breadcrumbs"><span class="breadcrumb-link"><a href="index.html">Elasticsearch Reference
      [master]
    </a></span> » <span class="breadcrumb-link"><a href="breaking-changes.html">Breaking changes </a></span> » <span class="breadcrumb-link"><a href="breaking-changes-5.0.html">Breaking changes in 5.0</a></span> » <span class="breadcrumb-node">Settings changes</span></div><div class="navheader"><span class="prev"><a href="breaking_50_document_api_changes.html">
              « 
              Document API changes</a>
           
        </span><span class="next">
           
          <a href="_script_settings.html">Script settings
               »
            </a></span></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="breaking_50_settings_changes"></a>Settings changes<a href="https://github.com/elastic/elasticsearch/edit/master/docs/reference/migration/migrate_5_0/settings.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h2></div></div></div><p>From Elasticsearch 5.0 on all settings are validated before they are applied.
Node level and default index level settings are validated on node startup,
dynamic cluster and index setting are validated before they are updated/added
to the cluster state.</p><p>Every setting must be a <span class="strong"><strong>known</strong></span> setting. All settings must have been
registered with the node or transport client they are used with. This implies
that plugins that define custom settings must register all of their settings
during plugin loading using the <code class="literal">SettingsModule#registerSettings(Setting)</code>
method.</p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_index_level_settings"></a>Index Level Settings<a href="https://github.com/elastic/elasticsearch/edit/master/docs/reference/migration/migrate_5_0/settings.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p>In previous versions Elasticsearch allowed to specify index level setting
as <span class="emphasis"><em>defaults</em></span> on the node level, inside the <code class="literal">elasticsearch.yaml</code> file or even via
command-line parameters. From Elasticsearch 5.0 on only selected settings like
for instance <code class="literal">index.codec</code> can be set on the node level. All other settings must be
set on each individual index. To set default values on every index, index templates
should be used instead.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_node_settings"></a>Node settings<a href="https://github.com/elastic/elasticsearch/edit/master/docs/reference/migration/migrate_5_0/settings.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p>The <code class="literal">name</code> setting has been removed and is replaced by <code class="literal">node.name</code>. Usage of
<code class="literal">-Dname=some_node_name</code> is not supported anymore.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_node_attribute_settings"></a>Node attribute settings<a href="https://github.com/elastic/elasticsearch/edit/master/docs/reference/migration/migrate_5_0/settings.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p>Node level attributes used for allocation filtering, forced awareness or other node identification / grouping
must be prefixed with <code class="literal">node.attr</code>. In previous versions it was possible to specify node attributes with the <code class="literal">node.</code>
prefix. All node attributes except of <code class="literal">node.master</code>, <code class="literal">node.data</code> and <code class="literal">node.ingest</code> must be moved to the new <code class="literal">node.attr.</code>
namespace.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_node_types_settings"></a>Node types settings<a href="https://github.com/elastic/elasticsearch/edit/master/docs/reference/migration/migrate_5_0/settings.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p>The <code class="literal">node.client</code> setting has been removed. A node with such a setting set will not
start up. Instead, each node role needs to be set separately using the existing
<code class="literal">node.master</code>, <code class="literal">node.data</code> and <code class="literal">node.ingest</code> supported static settings.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_gateway_settings"></a>Gateway settings<a href="https://github.com/elastic/elasticsearch/edit/master/docs/reference/migration/migrate_5_0/settings.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p>The <code class="literal">gateway.format</code> setting for configuring global and index state serialization
format has been removed. By default, <code class="literal">smile</code> is used as the format.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_transport_settings"></a>Transport Settings<a href="https://github.com/elastic/elasticsearch/edit/master/docs/reference/migration/migrate_5_0/settings.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p>All settings with a <code class="literal">netty</code> infix have been replaced by their already existing
<code class="literal">transport</code> synonyms. For instance <code class="literal">transport.netty.bind_host</code> is no longer
supported and should be replaced by the superseding setting
<code class="literal">transport.bind_host</code>.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_security_manager_settings"></a>Security manager settings<a href="https://github.com/elastic/elasticsearch/edit/master/docs/reference/migration/migrate_5_0/settings.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p>The option to disable the security manager <code class="literal">security.manager.enabled</code> has been
removed. In order to grant special permissions to elasticsearch users must
edit the local Java Security Policy.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_network_settings"></a>Network settings<a href="https://github.com/elastic/elasticsearch/edit/master/docs/reference/migration/migrate_5_0/settings.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p>The <code class="literal">_non_loopback_</code> value for settings like <code class="literal">network.host</code> would arbitrarily
pick the first interface not marked as loopback. Instead, specify by address
scope (e.g. <code class="literal">_local_,_site_</code> for all loopback and private network addresses)
or by explicit interface names, hostnames, or addresses.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_forbid_changing_of_thread_pool_types"></a>Forbid changing of thread pool types<a href="https://github.com/elastic/elasticsearch/edit/master/docs/reference/migration/migrate_5_0/settings.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p>Previously, <a class="link" href="modules-threadpool.html" title="Thread Pool">thread pool types</a> could be dynamically
adjusted. The thread pool type effectively controls the backing queue for the
thread pool and modifying this is an expert setting with minimal practical
benefits and high risk of being misused. The ability to change the thread pool
type for any thread pool has been removed. It is still possible to adjust
relevant thread pool parameters for each of the thread pools (e.g., depending
on the thread pool type, <code class="literal">keep_alive</code>, <code class="literal">queue_size</code>, etc.).</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_threadpool_settings"></a>Threadpool settings<a href="https://github.com/elastic/elasticsearch/edit/master/docs/reference/migration/migrate_5_0/settings.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p>The <code class="literal">suggest</code> threadpool has been removed, now suggest requests use the
<code class="literal">search</code> threadpool.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_analysis_settings"></a>Analysis settings<a href="https://github.com/elastic/elasticsearch/edit/master/docs/reference/migration/migrate_5_0/settings.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p>The <code class="literal">index.analysis.analyzer.default_index</code> analyzer is not supported anymore.
If you wish to change the analyzer to use for indexing, change the
<code class="literal">index.analysis.analyzer.default</code> analyzer instead.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_ping_settings"></a>Ping settings<a href="https://github.com/elastic/elasticsearch/edit/master/docs/reference/migration/migrate_5_0/settings.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p>Previously, there were three settings for the ping timeout:
<code class="literal">discovery.zen.initial_ping_timeout</code>, <code class="literal">discovery.zen.ping.timeout</code> and
<code class="literal">discovery.zen.ping_timeout</code>. The former two have been removed and the only
setting key for the ping timeout is now <code class="literal">discovery.zen.ping_timeout</code>. The
default value for ping timeouts remains at three seconds.</p><p><code class="literal">discovery.zen.master_election.filter_client</code> and <code class="literal">discovery.zen.master_election.filter_data</code> have
been removed in favor of the new <code class="literal">discovery.zen.master_election.ignore_non_master_pings</code>. This setting control how ping responses
are interpreted during master election and should be used with care and only in extreme cases. See documentation for details.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_recovery_settings"></a>Recovery settings<a href="https://github.com/elastic/elasticsearch/edit/master/docs/reference/migration/migrate_5_0/settings.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p>Recovery settings deprecated in 1.x have been removed:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
<code class="literal">index.shard.recovery.translog_size</code> is superseded by <code class="literal">indices.recovery.translog_size</code>
</li><li class="listitem">
<code class="literal">index.shard.recovery.translog_ops</code> is superseded by <code class="literal">indices.recovery.translog_ops</code>
</li><li class="listitem">
<code class="literal">index.shard.recovery.file_chunk_size</code> is superseded by <code class="literal">indices.recovery.file_chunk_size</code>
</li><li class="listitem">
<code class="literal">index.shard.recovery.concurrent_streams</code> is superseded by <code class="literal">indices.recovery.concurrent_streams</code>
</li><li class="listitem">
<code class="literal">index.shard.recovery.concurrent_small_file_streams</code> is superseded by <code class="literal">indices.recovery.concurrent_small_file_streams</code>
</li><li class="listitem">
<code class="literal">indices.recovery.max_size_per_sec</code> is superseded by <code class="literal">indices.recovery.max_bytes_per_sec</code>
</li></ul></div><p>If you are using any of these settings please take the time to review their
purpose. All of the settings above are considered <span class="emphasis"><em>expert settings</em></span> and should
only be used if absolutely necessary. If you have set any of the above setting
as persistent cluster settings please use the settings update API and set
their superseded keys accordingly.</p><p>The following settings have been removed without replacement</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
<code class="literal">indices.recovery.concurrent_small_file_streams</code> - recoveries are now single threaded. The number of concurrent outgoing recoveries are throttled via allocation deciders
</li><li class="listitem">
<code class="literal">indices.recovery.concurrent_file_streams</code> - recoveries are now single threaded. The number of concurrent outgoing recoveries are throttled via allocation deciders
</li></ul></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_translog_settings"></a>Translog settings<a href="https://github.com/elastic/elasticsearch/edit/master/docs/reference/migration/migrate_5_0/settings.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p>The <code class="literal">index.translog.flush_threshold_ops</code> setting is not supported anymore. In
order to control flushes based on the transaction log growth use
<code class="literal">index.translog.flush_threshold_size</code> instead.</p><p>Changing the translog type with <code class="literal">index.translog.fs.type</code> is not supported
anymore, the <code class="literal">buffered</code> implementation is now the only available option and
uses a fixed <code class="literal">8kb</code> buffer.</p><p>The translog by default is fsynced after every <code class="literal">index</code>, <code class="literal">create</code>, <code class="literal">update</code>,
<code class="literal">delete</code>, or <code class="literal">bulk</code> request.  The ability to fsync on every operation is not
necessary anymore. In fact, it can be a performance bottleneck and it’s trappy
since it enabled by a special value set on <code class="literal">index.translog.sync_interval</code>.
Now, <code class="literal">index.translog.sync_interval</code>  doesn’t accept a value less than <code class="literal">100ms</code>
which prevents fsyncing too often if async durability is enabled. The special
value <code class="literal">0</code> is no longer supported.</p><p><code class="literal">index.translog.interval</code> has been removed.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_request_cache_settings"></a>Request Cache Settings<a href="https://github.com/elastic/elasticsearch/edit/master/docs/reference/migration/migrate_5_0/settings.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p>The deprecated settings <code class="literal">index.cache.query.enable</code> and
<code class="literal">indices.cache.query.size</code> have been removed and are replaced with
<code class="literal">index.requests.cache.enable</code> and <code class="literal">indices.requests.cache.size</code> respectively.</p><p><code class="literal">indices.requests.cache.clean_interval</code> has been replaced with
<code class="literal">indices.cache.clean_interval</code> and is no longer supported.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_field_data_cache_settings"></a>Field Data Cache Settings<a href="https://github.com/elastic/elasticsearch/edit/master/docs/reference/migration/migrate_5_0/settings.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p>The <code class="literal">indices.fielddata.cache.clean_interval</code> setting has been replaced with
<code class="literal">indices.cache.clean_interval</code>.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_allocation_settings"></a>Allocation settings<a href="https://github.com/elastic/elasticsearch/edit/master/docs/reference/migration/migrate_5_0/settings.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p>The <code class="literal">cluster.routing.allocation.concurrent_recoveries</code> setting has been
replaced with <code class="literal">cluster.routing.allocation.node_concurrent_recoveries</code>.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_similarity_settings"></a>Similarity settings<a href="https://github.com/elastic/elasticsearch/edit/master/docs/reference/migration/migrate_5_0/settings.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p>The <span class="emphasis"><em>default</em></span> similarity has been renamed to <span class="emphasis"><em>classic</em></span>.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_indexing_settings"></a>Indexing settings<a href="https://github.com/elastic/elasticsearch/edit/master/docs/reference/migration/migrate_5_0/settings.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p>The <code class="literal">indices.memory.min_shard_index_buffer_size</code> and
<code class="literal">indices.memory.max_shard_index_buffer_size</code> have been removed as
Elasticsearch now allows any one shard to use  amount of heap as long as the
total indexing buffer heap used across all shards is below the node’s
<code class="literal">indices.memory.index_buffer_size</code> (defaults to 10% of the JVM heap).</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_removed_es_max_open_files"></a>Removed es.max-open-files<a href="https://github.com/elastic/elasticsearch/edit/master/docs/reference/migration/migrate_5_0/settings.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p>Setting the system property es.max-open-files to true to get
Elasticsearch to print the number of maximum open files for the
Elasticsearch process has been removed. This same information can be
obtained from the <a class="xref" href="cluster-nodes-info.html" title="Nodes Info"><em>Nodes Info</em></a> API, and a warning is logged
on startup if it is set too low.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_removed_es_netty_gathering"></a>Removed es.netty.gathering<a href="https://github.com/elastic/elasticsearch/edit/master/docs/reference/migration/migrate_5_0/settings.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p>Disabling Netty from using NIO gathering could be done via the escape
hatch of setting the system property "es.netty.gathering" to "false".
Time has proven enabling gathering by default is a non-issue and this
non-documented setting has been removed.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_removed_es_uselinkedtransferqueue"></a>Removed es.useLinkedTransferQueue<a href="https://github.com/elastic/elasticsearch/edit/master/docs/reference/migration/migrate_5_0/settings.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p>The system property <code class="literal">es.useLinkedTransferQueue</code> could be used to
control the queue implementation used in the cluster service and the
handling of ping responses during discovery. This was an undocumented
setting and has been removed.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_cache_concurrency_level_settings_removed"></a>Cache concurrency level settings removed<a href="https://github.com/elastic/elasticsearch/edit/master/docs/reference/migration/migrate_5_0/settings.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p>Two cache concurrency level settings
<code class="literal">indices.requests.cache.concurrency_level</code> and
<code class="literal">indices.fielddata.cache.concurrency_level</code> because they no longer apply to
the cache implementation used for the request cache and the field data cache.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_using_system_properties_to_configure_elasticsearch"></a>Using system properties to configure Elasticsearch<a href="https://github.com/elastic/elasticsearch/edit/master/docs/reference/migration/migrate_5_0/settings.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p>Elasticsearch can no longer be configured by setting system properties.
Instead, use <code class="literal">-Ename.of.setting=value.of.setting</code>.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_removed_using_double_dashes_to_configure_elasticsearch"></a>Removed using double-dashes to configure Elasticsearch<a href="https://github.com/elastic/elasticsearch/edit/master/docs/reference/migration/migrate_5_0/settings.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p>Elasticsearch could previously be configured on the command line by
setting settings via <code class="literal">--name.of.setting value.of.setting</code>. This feature
has been removed. Instead, use <code class="literal">-Ename.of.setting=value.of.setting</code>.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_discovery_settings"></a>Discovery Settings<a href="https://github.com/elastic/elasticsearch/edit/master/docs/reference/migration/migrate_5_0/settings.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p>The <code class="literal">discovery.zen.minimum_master_node</code> must be set for nodes that have
<code class="literal">network.host</code>, <code class="literal">network.bind_host</code>, <code class="literal">network.publish_host</code>,
<code class="literal">transport.host</code>, <code class="literal">transport.bind_host</code>, or <code class="literal">transport.publish_host</code>
configuration options set. We see those nodes as in "production" mode
and thus require the setting.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_realtime_get_setting"></a>Realtime get setting<a href="https://github.com/elastic/elasticsearch/edit/master/docs/reference/migration/migrate_5_0/settings.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p>The <code class="literal">action.get.realtime</code> setting has been removed. This setting was
a fallback realtime setting for the get and mget APIs when realtime
wasn’t specified. Now if the parameter isn’t specified we always
default to true.</p></div></div><div class="navfooter"><span class="prev"><a href="breaking_50_document_api_changes.html">
              « 
              Document API changes</a>
           
        </span><span class="next">
           
          <a href="_script_settings.html">Script settings
               »
            </a></span></div>
<!-- end body -->

            </section>

            <div id="rtpcontainer"
         class="col-xs-12 col-sm-4 col-md-4"><h3>Top Videos</h3><ul><li><a href="https://www.elastic.co/webinars/elasticsearch-2-0-overview?baymax=default&elektra=docs&storm=top-video">Getting Started</a></li><li><a href="http://www.elastic.co/webinars/elasticsearch-performance-optimization-tale-two-tickets/?elektra=docs">Scaling</a></li><li><a href="http://www.elastic.co/webinars/shield-securing-your-data-in-elasticsearch/?elektra=docs">Security</a></li></ul><hr/></div></div></div></section></div><script src="//app-lon02.marketo.com/js/forms2/js/forms2.min.js"></script><div class="subscribe-wrapper"><div class="container text-left"><div class="subscribe-title"><h5>Be in the know with the latest and greatest from Elastic.</h5></div><div class="subscribe-form"><form id="mktoForm_1398" class="mktoForm sb-form"></form><div class="form_thanks hide"><p>Thanks for subscribing! We'll keep you updated with new releases.</p></div></div></div></div><footer class="footer-wrapper"><div class="container"><div class="row footer-content"><div class="col-xs-6 col-sm-3 col-md-3"><h3><a href="/products">Products</a></h3><ul><li><a href="/products/elasticsearch">Elasticsearch</a></li><li><a href="/products/kibana">Kibana</a></li><li><a href="/products/logstash">Logstash</a></li><li><a href="/products/beats">Beats</a></li><li><a href="/cloud">Elastic Cloud</a></li><li><a href="/products/shield">Shield (Security)</a></li><li><a href="/products/watcher">Watcher (Alerting)</a></li><li><a href="/products/marvel">Marvel (Monitoring)</a></li><li><a href="/products/graph">Graph</a></li><li><a href="/products/reporting">Reporting</a></li><li><a href="/products/hadoop">ES-Hadoop</a></li></ul></div><div class="col-xs-6 col-sm-3 col-md-3"><h3>Resources</h3><ul><li><a href="/blog">Blog</a></li><li><a href="/community">Community</a></li><li><a href="/use-cases">Customers & Use Cases</a></li><li><a href="/guide">Documentation</a></li><li><a href="/elasticon">Elastic{ON} Events</a></li><li><a href="https://discuss.elastic.co/">Forums</a></li><li><a href="/community/meetups">Meetups</a></li><li><a href="https://support.elastic.co">Support Portal/Login</a></li><li><a href="/videos">Videos & Webinars</a></li><li><a href="/training">Training</a></li></ul></div><div class="col-xs-6 col-sm-3 col-md-3"><h3><a href="/about">About</a></h3><ul><li><a href="/about/careers">Careers</a></li><li><a href="/contact">Contact</a></li><li><a href="/about/leadership">Leadership</a></li><li><a href="/about/partners">Partners</a></li><li><a href="/about/press">Press</a></li></ul></div><div class="col-xs-6 col-sm-3 col-md-3"><h3>Language</h3><ul><li><a href="/">English</a></li><li><a href="/fr">French</a></li><li><a href="/de">German</a></li><li><a href="/jp">Japanese</a></li><li><a href="/kr">Korean</a></li></ul></div></div><div class="row social-icon"><div class="col-xs-12 col-sm-12 col-md-12"><ul><li class="facebook"><a target="_blank" id="footer_facebook" href="http://www.facebook.com/elastic.co" target="_blank"></a></li><li class="twitter"><a target="_blank" id="footer_twitter" href="https://www.twitter.com/elastic" target="_blank"></a></li><li class="linkedin"><a target="_blank" id="footer_linkedin" href="https://www.linkedin.com/company/elastic-co" target="_blank"></a></li><li class="xing"><a target="_blank" id="footer_xing" href="https://www.xing.com/companies/elastic.co" target="_blank"></a></li><li class="youtube"><a target="_blank" id="footer_youtube" href="https://www.youtube.com/user/elasticsearch" target="_blank"></a></li></ul></div></div><div class="row"><div class="col-xs-12 col-sm-12 col-md-12"><div class="copyright"><ul><li><a href="/legal/trademarks">Trademarks</a></li><li><a href="" legal="" terms-of-use"="">Terms of Use</a></li><li><a href="" legal="" privacy-policy"="">Privacy</a></li><li><a href="" legal="" privacy-and-cookie-policy"="">Cookie Policy</a></li><li><a href="/brand">Brand</a></li></ul><div class="copyright-content"><div class="footer-logo"><a href="#"><img src="/static/images/elastic-logo-H-full color.png" class="img-responsive"></a></div><div class="footer-text"><p>© 2016. All Rights Reserved - Elasticsearch</p><p>Elasticsearch is a trademark of Elasticsearch BV, registered in the U.S. and in other countries</p><p>Apache, Apache Lucene, Apache Hadoop, Hadoop, HDFS and the yellow elephant logo are trademarks of the <a href="http://www.apache.org/" target="_blank">Apache Software Foundation</a> in the United States and/or other countries.</p></div></div></div></div></div></div></footer><style type="text/css">
		
			.facebook{background:url("/assets/bltf66b1b8a624e81b2/facebook.svg") no-repeat;}		
		
			.twitter{background:url("/assets/blt0c27fbeba1f2b85b/twitter.svg") no-repeat;}		
		
			.linkedin{background:url("/assets/blt7890ae949fd3873f/linkedin.svg") no-repeat;}		
		
			.xing{background:url("/assets/blt0d0981773de2643c/xing.svg") no-repeat;}		
		
			.youtube{background:url("/assets/blt891f87ea1aa18977/youtube.svg") no-repeat;}		
		
	</style><script>
MktoForms2.loadForm("//app-lon02.marketo.com", "813-MAM-392", 1398,function(form){
  form.onSuccess(function(form){
    $('#mktoForm_1398').css('display','none');
    $('#subscribe-newsletter header').hide();
    $('#mktoForm_1398').siblings('.form_thanks').removeClass('hide')
    dataLayer.push({'event': 'mktoFormSubmit'});
      return false;
    });
});
</script><script src="/static/js/jquery.min.js"></script><script src="/static/js/bootstrap.min.js"></script><script src="/static/js/jquery.autocomplete.js"></script><script src="/static/js/script.js"></script></section></div><script type="text/javascript">
	var suggestionsUrl = "https://search.elastic.co/suggest";	
</script><script src="/static/js/jquery.cookie.js"></script><style></style><script type="text/javascript">
       $(document).ready(function(){
        $('.dropdown-btn').on('click', function(){
          myFunction();
        });
         function myFunction() {
            // document.getElementById("myDropdown").classList.toggle("show");
            $('#myDropdown').toggleClass('show');
        }

        // Close the dropdown menu if the user clicks outside of it
        $('body').on('click', function(event){
          if (!event.target.matches('.dropdown-btn')) {

            var dropdowns = $(".dropdown-content");
            var i;
            for (i = 0; i < dropdowns.length; i++) {
              var openDropdown = dropdowns[i];
              if (openDropdown.classList.contains('show')) {
                openDropdown.classList.remove('show');
              }
            }
          }
        });
       });
     </script>
            <script type="text/javascript" src="docs.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
<script type='text/javascript' src='https://google-code-prettify.googlecode.com/svn/loader/run_prettify.js'></script>

            </body>
        